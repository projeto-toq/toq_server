Starting: /home/toq_admin/go/bin/dlv dap --listen=127.0.0.1:44001 --log-dest=3 from /codigos/go_code/toq_server/cmd
DAP server listening at: 127.0.0.1:44001
Type 'dlv help' for list of commands.
{"time":"2025-09-05T15:31:48.61611495Z","level":"INFO","source":{"function":"main.main","file":"/codigos/go_code/toq_server/cmd/toq_server.go","line":220},"msg":"ðŸš€ Iniciando TOQ Server Bootstrap","version":"2.0.0","component":"bootstrap","log_level":"debug","log_format":"json","log_output":"stdout"}
{"time":"2025-09-05T15:31:48.616262612Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).logPhaseStart","file":"/codigos/go_code/toq_server/internal/core/config/bootstrap.go","line":88},"msg":"â–¶ï¸ Executando fase","phase":"Phase01_InitializeContext","component":"bootstrap","timestamp":"2025-09-05T15:31:48Z"}
{"time":"2025-09-05T15:31:48.616346644Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase01_InitializeContext","file":"/codigos/go_code/toq_server/internal/core/config/phase_01_context.go","line":24},"msg":"ðŸŽ¯ FASE 1: InicializaÃ§Ã£o de Contexto e Sinais"}
{"time":"2025-09-05T15:31:48.616414255Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase01_InitializeContext","file":"/codigos/go_code/toq_server/internal/core/config/phase_01_context.go","line":25},"msg":"Configurando contexto base do sistema"}
{"time":"2025-09-05T15:31:48.616433985Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase01_InitializeContext","file":"/codigos/go_code/toq_server/internal/core/config/phase_01_context.go","line":28},"msg":"Configurando sinais de shutdown graceful"}
{"time":"2025-09-05T15:31:48.617062355Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).createSystemUserContext","file":"/codigos/go_code/toq_server/internal/core/config/phase_01_context.go","line":87},"msg":"ðŸ‘¤ Contexto do usuÃ¡rio sistema criado","user_id":0}
{"time":"2025-09-05T15:31:48.617111916Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase01_InitializeContext","file":"/codigos/go_code/toq_server/internal/core/config/phase_01_context.go","line":47},"msg":"âœ… Contexto e sinais inicializados com sucesso"}
{"time":"2025-09-05T15:31:48.617178457Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).logPhaseEnd","file":"/codigos/go_code/toq_server/internal/core/config/bootstrap.go","line":96},"msg":"âœ… Fase concluÃ­da","phase":"Phase01_InitializeContext","component":"bootstrap","duration":"914.745Âµs"}
{"time":"2025-09-05T15:31:48.617212058Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).logPhaseStart","file":"/codigos/go_code/toq_server/internal/core/config/bootstrap.go","line":88},"msg":"â–¶ï¸ Executando fase","phase":"Phase02_LoadConfiguration","component":"bootstrap","timestamp":"2025-09-05T15:31:48Z"}
{"time":"2025-09-05T15:31:48.617230478Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).startPprofServer.func1","file":"/codigos/go_code/toq_server/internal/core/config/phase_01_context.go","line":106},"msg":"ðŸ” Iniciando servidor pprof na porta 6060"}
{"time":"2025-09-05T15:31:48.617272229Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).startPprofServer.func1","file":"/codigos/go_code/toq_server/internal/core/config/phase_01_context.go","line":118},"msg":"âœ… Servidor pprof iniciado em localhost:6060"}
{"time":"2025-09-05T15:31:48.617249918Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase02_LoadConfiguration","file":"/codigos/go_code/toq_server/internal/core/config/phase_02_config.go","line":19},"msg":"ðŸŽ¯ FASE 2: Carregamento e ValidaÃ§Ã£o de ConfiguraÃ§Ã£o"}
{"time":"2025-09-05T15:31:48.617310549Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase02_LoadConfiguration","file":"/codigos/go_code/toq_server/internal/core/config/phase_02_config.go","line":20},"msg":"Carregando configuraÃ§Ã£o do sistema"}
{"time":"2025-09-05T15:31:48.61732931Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).loadEnvironmentConfig","file":"/codigos/go_code/toq_server/internal/core/config/phase_02_config.go","line":43},"msg":"Carregando variÃ¡veis de ambiente"}
{"time":"2025-09-05T15:31:48.618811984Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).LoadEnv","file":"/codigos/go_code/toq_server/internal/core/config/config_model.go","line":339},"msg":"Configuration loaded successfully from YAML","path":"configs/env.yaml"}
{"time":"2025-09-05T15:31:48.618843194Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).loadEnvironmentConfig","file":"/codigos/go_code/toq_server/internal/core/config/phase_02_config.go","line":58},"msg":"âœ… VariÃ¡veis de ambiente carregadas"}
{"time":"2025-09-05T15:31:48.618857004Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).validateConfiguration","file":"/codigos/go_code/toq_server/internal/core/config/phase_02_config.go","line":64},"msg":"Validando configuraÃ§Ã£o completa"}
{"time":"2025-09-05T15:31:48.618871244Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).validateDatabaseConfig","file":"/codigos/go_code/toq_server/internal/core/config/phase_02_config.go","line":140},"msg":"Validando configuraÃ§Ã£o do banco de dados"}
{"time":"2025-09-05T15:31:48.618886725Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).validateDatabaseConfig","file":"/codigos/go_code/toq_server/internal/core/config/phase_02_config.go","line":178},"msg":"âœ… ConfiguraÃ§Ã£o do banco de dados validada com sucesso"}
{"time":"2025-09-05T15:31:48.618900515Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).validateHTTPConfig","file":"/codigos/go_code/toq_server/internal/core/config/phase_02_config.go","line":184},"msg":"Validando configuraÃ§Ã£o HTTP"}
{"time":"2025-09-05T15:31:48.618938376Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).validateHTTPConfig","file":"/codigos/go_code/toq_server/internal/core/config/phase_02_config.go","line":245},"msg":"âœ… ConfiguraÃ§Ã£o HTTP validada com sucesso"}
{"time":"2025-09-05T15:31:48.618955546Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).validateTelemetryConfig","file":"/codigos/go_code/toq_server/internal/core/config/phase_02_config.go","line":252},"msg":"Validando configuraÃ§Ã£o de telemetria"}
{"time":"2025-09-05T15:31:48.618974396Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).validateTelemetryConfig","file":"/codigos/go_code/toq_server/internal/core/config/phase_02_config.go","line":294},"msg":"âœ… ConfiguraÃ§Ã£o de telemetria validada com sucesso"}
{"time":"2025-09-05T15:31:48.618990216Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).validateConfiguration","file":"/codigos/go_code/toq_server/internal/core/config/phase_02_config.go","line":92},"msg":"âœ… ValidaÃ§Ã£o de configuraÃ§Ã£o concluÃ­da"}
{"time":"2025-09-05T15:31:48.619005197Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).applySecurityConfig","file":"/codigos/go_code/toq_server/internal/core/config/phase_02_config.go","line":135},"msg":"ðŸ” JWT and token TTL configuration applied"}
{"time":"2025-09-05T15:31:48.619019007Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase02_LoadConfiguration","file":"/codigos/go_code/toq_server/internal/core/config/phase_02_config.go","line":35},"msg":"âœ… ConfiguraÃ§Ã£o carregada e validada com sucesso","version":"2.0.0"}
{"time":"2025-09-05T15:31:48.619068768Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).logPhaseEnd","file":"/codigos/go_code/toq_server/internal/core/config/bootstrap.go","line":96},"msg":"âœ… Fase concluÃ­da","phase":"Phase02_LoadConfiguration","component":"bootstrap","duration":"1.85576ms"}
{"time":"2025-09-05T15:31:48.619099708Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).logPhaseStart","file":"/codigos/go_code/toq_server/internal/core/config/bootstrap.go","line":88},"msg":"â–¶ï¸ Executando fase","phase":"Phase03_InitializeInfrastructure","component":"bootstrap","timestamp":"2025-09-05T15:31:48Z"}
{"time":"2025-09-05T15:31:48.619153759Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase03_InitializeInfrastructure","file":"/codigos/go_code/toq_server/internal/core/config/phase_03_infrastructure.go","line":19},"msg":"ðŸŽ¯ FASE 3: InicializaÃ§Ã£o da Infraestrutura Core"}
{"time":"2025-09-05T15:31:48.61918825Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase03_InitializeInfrastructure","file":"/codigos/go_code/toq_server/internal/core/config/phase_03_infrastructure.go","line":20},"msg":"Configurando infraestrutura fundamental"}
{"time":"2025-09-05T15:31:48.6192019Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).initializeDatabase","file":"/codigos/go_code/toq_server/internal/core/config/phase_03_infrastructure.go","line":48},"msg":"Inicializando conexÃ£o com banco de dados"}
{"time":"2025-09-05T15:31:48.62227874Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).InitializeDatabase","file":"/codigos/go_code/toq_server/internal/core/config/config_model.go","line":440},"msg":"Database connection initialized","uri":"toq_user:toq_password@tcp(localhost:3306)/toq_db?parseTime=true&loc=UTC&timeout=30s&readTimeout=30s&writeTimeout=30s"}
{"time":"2025-09-05T15:31:48.622336201Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).initializeDatabase","file":"/codigos/go_code/toq_server/internal/core/config/phase_03_infrastructure.go","line":64},"msg":"âœ… ConexÃ£o com banco de dados estabelecida"}
{"time":"2025-09-05T15:31:48.622360371Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).initializeCache","file":"/codigos/go_code/toq_server/internal/core/config/phase_03_infrastructure.go","line":70},"msg":"Inicializando sistema de cache Redis"}
{"time":"2025-09-05T15:31:48.622379501Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).initializeCache","file":"/codigos/go_code/toq_server/internal/core/config/phase_03_infrastructure.go","line":78},"msg":"Conectando ao Redis","url":"redis://localhost:6379/0"}
{"time":"2025-09-05T15:31:48.625230967Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/cache.NewRedisCache","file":"/codigos/go_code/toq_server/internal/core/cache/redis_cache.go","line":63},"msg":"Redis cache connected successfully","url":"redis://localhost:6379/0"}
{"time":"2025-09-05T15:31:48.625317489Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).initializeCache","file":"/codigos/go_code/toq_server/internal/core/config/phase_03_infrastructure.go","line":87},"msg":"âœ… Sistema de cache Redis inicializado com sucesso"}
{"time":"2025-09-05T15:31:48.625341169Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).initializeTelemetry","file":"/codigos/go_code/toq_server/internal/core/config/phase_03_infrastructure.go","line":93},"msg":"Inicializando sistema de telemetria OpenTelemetry"}
{"time":"2025-09-05T15:31:48.625598213Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*TelemetryManager).initializeTracing","file":"/codigos/go_code/toq_server/internal/core/config/telemetry.go","line":123},"msg":"OpenTelemetry tracing initialized","endpoint":"localhost:4318"}
{"time":"2025-09-05T15:31:48.625902318Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*TelemetryManager).initializeMetrics","file":"/codigos/go_code/toq_server/internal/core/config/telemetry.go","line":170},"msg":"OpenTelemetry metrics initialized","endpoint":"localhost:4318"}
{"time":"2025-09-05T15:31:48.625941809Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*TelemetryManager).Initialize","file":"/codigos/go_code/toq_server/internal/core/config/telemetry.go","line":63},"msg":"OpenTelemetry initialized successfully","tracing_enabled":true,"metrics_enabled":true,"endpoint":"localhost:4318"}
{"time":"2025-09-05T15:31:48.625966299Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).InitializeTelemetry","file":"/codigos/go_code/toq_server/internal/core/config/config_model.go","line":474},"msg":"OpenTelemetry initialized successfully"}
{"time":"2025-09-05T15:31:48.62598711Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).initializeTelemetry","file":"/codigos/go_code/toq_server/internal/core/config/phase_03_infrastructure.go","line":107},"msg":"âœ… OpenTelemetry inicializado (tracing + metrics)"}
{"time":"2025-09-05T15:31:48.62600677Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).initializeMetrics","file":"/codigos/go_code/toq_server/internal/core/config/phase_03_infrastructure.go","line":113},"msg":"Inicializando adapter de mÃ©tricas Prometheus"}
{"time":"2025-09-05T15:31:48.62603561Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/factory.(*ConcreteAdapterFactory).CreateMetricsAdapter","file":"/codigos/go_code/toq_server/internal/core/factory/concrete_adapter_factory.go","line":61},"msg":"Creating metrics adapter"}
{"time":"2025-09-05T15:31:48.626213413Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).initializeMetrics","file":"/codigos/go_code/toq_server/internal/core/config/phase_03_infrastructure.go","line":138},"msg":"âœ… Adapter de mÃ©tricas Prometheus inicializado"}
{"time":"2025-09-05T15:31:48.626245094Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase03_InitializeInfrastructure","file":"/codigos/go_code/toq_server/internal/core/config/phase_03_infrastructure.go","line":42},"msg":"âœ… Infraestrutura core inicializada com sucesso"}
{"time":"2025-09-05T15:31:48.626275864Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).logPhaseEnd","file":"/codigos/go_code/toq_server/internal/core/config/bootstrap.go","line":96},"msg":"âœ… Fase concluÃ­da","phase":"Phase03_InitializeInfrastructure","component":"bootstrap","duration":"7.174356ms"}
{"time":"2025-09-05T15:31:48.626306835Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).logPhaseStart","file":"/codigos/go_code/toq_server/internal/core/config/bootstrap.go","line":88},"msg":"â–¶ï¸ Executando fase","phase":"Phase04_InjectDependencies","component":"bootstrap","timestamp":"2025-09-05T15:31:48Z"}
{"time":"2025-09-05T15:31:48.626349465Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase04_InjectDependencies","file":"/codigos/go_code/toq_server/internal/core/config/phase_04_dependencies.go","line":11},"msg":"ðŸŽ¯ FASE 4: InjeÃ§Ã£o de DependÃªncias via Factory Pattern"}
{"time":"2025-09-05T15:31:48.626392826Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase04_InjectDependencies","file":"/codigos/go_code/toq_server/internal/core/config/phase_04_dependencies.go","line":12},"msg":"Configurando injeÃ§Ã£o de dependÃªncias"}
{"time":"2025-09-05T15:31:48.626412716Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).initializeLifecycleManager","file":"/codigos/go_code/toq_server/internal/core/config/phase_04_dependencies.go","line":30},"msg":"Inicializando lifecycle manager"}
{"time":"2025-09-05T15:31:48.626431067Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).initializeLifecycleManager","file":"/codigos/go_code/toq_server/internal/core/config/phase_04_dependencies.go","line":35},"msg":"âœ… Lifecycle manager inicializado"}
{"time":"2025-09-05T15:31:48.626450337Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).InjectDependencies","file":"/codigos/go_code/toq_server/internal/core/config/inject_dependencies.go","line":20},"msg":"Starting dependency injection using Factory Pattern"}
{"time":"2025-09-05T15:31:48.626469407Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).InjectDependencies","file":"/codigos/go_code/toq_server/internal/core/config/inject_dependencies.go","line":21},"msg":"InjectDependencies method called on config instance"}
{"time":"2025-09-05T15:31:48.626488298Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/factory.ValidateFactoryConfig","file":"/codigos/go_code/toq_server/internal/core/factory/validation.go","line":13},"msg":"Validating factory configuration"}
{"time":"2025-09-05T15:31:48.626506338Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/factory.ValidateFactoryConfig","file":"/codigos/go_code/toq_server/internal/core/factory/validation.go","line":28},"msg":"Factory configuration validation successful"}
{"time":"2025-09-05T15:31:48.626529688Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/factory.(*ConcreteAdapterFactory).CreateStorageAdapters","file":"/codigos/go_code/toq_server/internal/core/factory/concrete_adapter_factory.go","line":144},"msg":"Creating storage adapters"}
{"time":"2025-09-05T15:31:48.629192581Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/cache.NewRedisCache","file":"/codigos/go_code/toq_server/internal/core/cache/redis_cache.go","line":63},"msg":"Redis cache connected successfully","url":"redis://localhost:6379/0"}
{"time":"2025-09-05T15:31:48.629246642Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/factory.(*ConcreteAdapterFactory).CreateStorageAdapters","file":"/codigos/go_code/toq_server/internal/core/factory/concrete_adapter_factory.go","line":163},"msg":"Successfully created all storage adapters"}
{"time":"2025-09-05T15:31:48.629273643Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).createActivityTracker","file":"/codigos/go_code/toq_server/internal/core/config/inject_dependencies.go","line":231},"msg":"âœ… ActivityTracker criado com sucesso com Redis client"}
{"time":"2025-09-05T15:31:48.629295203Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/factory.(*ConcreteAdapterFactory).CreateRepositoryAdapters","file":"/codigos/go_code/toq_server/internal/core/factory/concrete_adapter_factory.go","line":175},"msg":"Creating repository adapters"}
{"time":"2025-09-05T15:31:48.629357994Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/factory.(*ConcreteAdapterFactory).CreateRepositoryAdapters","file":"/codigos/go_code/toq_server/internal/core/factory/concrete_adapter_factory.go","line":198},"msg":"Successfully created all repository adapters"}
{"time":"2025-09-05T15:31:48.629383874Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).assignRepositoryAdapters","file":"/codigos/go_code/toq_server/internal/core/config/config_model.go","line":145},"msg":"Assigning repository adapters"}
{"time":"2025-09-05T15:31:48.629404795Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).assignRepositoryAdapters","file":"/codigos/go_code/toq_server/internal/core/config/config_model.go","line":181},"msg":"Repository adapters assigned successfully"}
{"time":"2025-09-05T15:31:48.629437405Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/factory.(*ConcreteAdapterFactory).CreateValidationAdapters","file":"/codigos/go_code/toq_server/internal/core/factory/concrete_adapter_factory.go","line":73},"msg":"Creating validation adapters"}
{"time":"2025-09-05T15:31:48.629470046Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/factory.(*ConcreteAdapterFactory).CreateValidationAdapters","file":"/codigos/go_code/toq_server/internal/core/factory/concrete_adapter_factory.go","line":93},"msg":"Successfully created all validation adapters"}
{"time":"2025-09-05T15:31:48.629494916Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).InjectDependencies","file":"/codigos/go_code/toq_server/internal/core/config/inject_dependencies.go","line":84},"msg":"Creating external service adapters"}
{"time":"2025-09-05T15:31:48.629515717Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/factory.(*ConcreteAdapterFactory).CreateExternalServiceAdapters","file":"/codigos/go_code/toq_server/internal/core/factory/concrete_adapter_factory.go","line":105},"msg":"Creating external service adapters"}
{"time":"2025-09-05T15:31:48.631183174Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/adapter/right/aws_s3.NewS3Adapter","file":"/codigos/go_code/toq_server/internal/adapter/right/aws_s3/s3_adapter.go","line":24},"msg":"Creating S3 adapter","region":"us-east-1","bucket":"toq-app-media"}
{"time":"2025-09-05T15:31:48.631824434Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/adapter/right/aws_s3.NewS3Adapter","file":"/codigos/go_code/toq_server/internal/adapter/right/aws_s3/s3_adapter.go","line":76},"msg":"S3 adapter created successfully","bucket":"toq-app-media","region":"us-east-1"}
{"time":"2025-09-05T15:31:48.631866305Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/factory.(*ConcreteAdapterFactory).CreateExternalServiceAdapters","file":"/codigos/go_code/toq_server/internal/core/factory/concrete_adapter_factory.go","line":130},"msg":"Successfully created all external service adapters"}
{"time":"2025-09-05T15:31:48.631892015Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).initializeServices","file":"/codigos/go_code/toq_server/internal/core/config/config_model.go","line":201},"msg":"Initializing all services"}
{"time":"2025-09-05T15:31:48.631913325Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).InitGlobalService","file":"/codigos/go_code/toq_server/internal/core/config/inject_dependencies.go","line":108},"msg":"Initializing Global Service"}
{"time":"2025-09-05T15:31:48.631936966Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/cache.(*RedisCache).SetGlobalService","file":"/codigos/go_code/toq_server/internal/core/cache/redis_cache.go","line":77},"msg":"GlobalService injected into RedisCache"}
{"time":"2025-09-05T15:31:48.63218108Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).InitGlobalService","file":"/codigos/go_code/toq_server/internal/core/config/inject_dependencies.go","line":164},"msg":"GlobalService injected into Redis cache"}
{"time":"2025-09-05T15:31:48.63221858Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).InitPermissionHandler","file":"/codigos/go_code/toq_server/internal/core/config/inject_dependencies.go","line":208},"msg":"Initializing Permission Handler"}
{"time":"2025-09-05T15:31:48.632250291Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).InitComplexHandler","file":"/codigos/go_code/toq_server/internal/core/config/inject_dependencies.go","line":189},"msg":"Initializing Complex Handler"}
{"time":"2025-09-05T15:31:48.632273011Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).InitListingHandler","file":"/codigos/go_code/toq_server/internal/core/config/inject_dependencies.go","line":197},"msg":"Initializing Listing Handler"}
{"time":"2025-09-05T15:31:48.632292632Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).InitUserHandler","file":"/codigos/go_code/toq_server/internal/core/config/inject_dependencies.go","line":174},"msg":"Initializing User Handler"}
{"time":"2025-09-05T15:31:48.632312582Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).initializeServices","file":"/codigos/go_code/toq_server/internal/core/config/config_model.go","line":210},"msg":"All services initialized successfully"}
{"time":"2025-09-05T15:31:48.632334202Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).InitializeTempBlockCleaner","file":"/codigos/go_code/toq_server/internal/core/config/config_model.go","line":310},"msg":"âœ… TempBlockCleanerWorker initialized"}
{"time":"2025-09-05T15:31:48.632352492Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).InjectDependencies","file":"/codigos/go_code/toq_server/internal/core/config/inject_dependencies.go","line":102},"msg":"Dependency injection completed successfully using Factory Pattern"}
{"time":"2025-09-05T15:31:48.632371493Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase04_InjectDependencies","file":"/codigos/go_code/toq_server/internal/core/config/phase_04_dependencies.go","line":24},"msg":"âœ… InjeÃ§Ã£o de dependÃªncias concluÃ­da via Factory Pattern"}
{"time":"2025-09-05T15:31:48.632419474Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).logPhaseEnd","file":"/codigos/go_code/toq_server/internal/core/config/bootstrap.go","line":96},"msg":"âœ… Fase concluÃ­da","phase":"Phase04_InjectDependencies","component":"bootstrap","duration":"6.109928ms"}
{"time":"2025-09-05T15:31:48.632450414Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).logPhaseStart","file":"/codigos/go_code/toq_server/internal/core/config/bootstrap.go","line":88},"msg":"â–¶ï¸ Executando fase","phase":"Phase05_InitializeServices","component":"bootstrap","timestamp":"2025-09-05T15:31:48Z"}
{"time":"2025-09-05T15:31:48.632495635Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase05_InitializeServices","file":"/codigos/go_code/toq_server/internal/core/config/phase_05_services.go","line":16},"msg":"ðŸŽ¯ FASE 5: InicializaÃ§Ã£o de ServiÃ§os"}
{"time":"2025-09-05T15:31:48.632532225Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase05_InitializeServices","file":"/codigos/go_code/toq_server/internal/core/config/phase_05_services.go","line":17},"msg":"Inicializando serviÃ§os na ordem correta"}
{"time":"2025-09-05T15:31:48.632552746Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase05_InitializeServices","file":"/codigos/go_code/toq_server/internal/core/config/phase_05_services.go","line":32},"msg":"Inicializando serviÃ§o","service":"GlobalService"}
{"time":"2025-09-05T15:31:48.632574936Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).initializeGlobalService","file":"/codigos/go_code/toq_server/internal/core/config/phase_05_services.go","line":45},"msg":"Inicializando Global Service"}
{"time":"2025-09-05T15:31:48.632593886Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).InitGlobalService","file":"/codigos/go_code/toq_server/internal/core/config/inject_dependencies.go","line":108},"msg":"Initializing Global Service"}
{"time":"2025-09-05T15:31:48.632615007Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/cache.(*RedisCache).SetGlobalService","file":"/codigos/go_code/toq_server/internal/core/cache/redis_cache.go","line":77},"msg":"GlobalService injected into RedisCache"}
{"time":"2025-09-05T15:31:48.632635087Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).InitGlobalService","file":"/codigos/go_code/toq_server/internal/core/config/inject_dependencies.go","line":164},"msg":"GlobalService injected into Redis cache"}
{"time":"2025-09-05T15:31:48.632656547Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).initializeGlobalService","file":"/codigos/go_code/toq_server/internal/core/config/phase_05_services.go","line":53},"msg":"âœ… Global Service inicializado"}
{"time":"2025-09-05T15:31:48.632674358Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase05_InitializeServices","file":"/codigos/go_code/toq_server/internal/core/config/phase_05_services.go","line":36},"msg":"âœ… ServiÃ§o inicializado","service":"GlobalService"}
{"time":"2025-09-05T15:31:48.632695248Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase05_InitializeServices","file":"/codigos/go_code/toq_server/internal/core/config/phase_05_services.go","line":32},"msg":"Inicializando serviÃ§o","service":"PermissionService"}
{"time":"2025-09-05T15:31:48.632715608Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).initializePermissionService","file":"/codigos/go_code/toq_server/internal/core/config/phase_05_services.go","line":59},"msg":"Inicializando Permission Service"}
{"time":"2025-09-05T15:31:48.632733379Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).InitPermissionHandler","file":"/codigos/go_code/toq_server/internal/core/config/inject_dependencies.go","line":208},"msg":"Initializing Permission Handler"}
{"time":"2025-09-05T15:31:48.632751569Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).initializePermissionService","file":"/codigos/go_code/toq_server/internal/core/config/phase_05_services.go","line":64},"msg":"âœ… Permission Service inicializado"}
{"time":"2025-09-05T15:31:48.632774579Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase05_InitializeServices","file":"/codigos/go_code/toq_server/internal/core/config/phase_05_services.go","line":36},"msg":"âœ… ServiÃ§o inicializado","service":"PermissionService"}
{"time":"2025-09-05T15:31:48.63279606Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase05_InitializeServices","file":"/codigos/go_code/toq_server/internal/core/config/phase_05_services.go","line":32},"msg":"Inicializando serviÃ§o","service":"UserService"}
{"time":"2025-09-05T15:31:48.63281636Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).initializeUserService","file":"/codigos/go_code/toq_server/internal/core/config/phase_05_services.go","line":70},"msg":"Inicializando User Service"}
{"time":"2025-09-05T15:31:48.63283537Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).InitUserHandler","file":"/codigos/go_code/toq_server/internal/core/config/inject_dependencies.go","line":174},"msg":"Initializing User Handler"}
{"time":"2025-09-05T15:31:48.632858851Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).initializeUserService","file":"/codigos/go_code/toq_server/internal/core/config/phase_05_services.go","line":75},"msg":"âœ… User Service inicializado"}
{"time":"2025-09-05T15:31:48.632878201Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase05_InitializeServices","file":"/codigos/go_code/toq_server/internal/core/config/phase_05_services.go","line":36},"msg":"âœ… ServiÃ§o inicializado","service":"UserService"}
{"time":"2025-09-05T15:31:48.632899581Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase05_InitializeServices","file":"/codigos/go_code/toq_server/internal/core/config/phase_05_services.go","line":32},"msg":"Inicializando serviÃ§o","service":"ComplexService"}
{"time":"2025-09-05T15:31:48.632919572Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).initializeComplexService","file":"/codigos/go_code/toq_server/internal/core/config/phase_05_services.go","line":81},"msg":"Inicializando Complex Service"}
{"time":"2025-09-05T15:31:48.632935892Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).InitComplexHandler","file":"/codigos/go_code/toq_server/internal/core/config/inject_dependencies.go","line":189},"msg":"Initializing Complex Handler"}
{"time":"2025-09-05T15:31:48.632953442Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).initializeComplexService","file":"/codigos/go_code/toq_server/internal/core/config/phase_05_services.go","line":86},"msg":"âœ… Complex Service inicializado"}
{"time":"2025-09-05T15:31:48.632974482Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase05_InitializeServices","file":"/codigos/go_code/toq_server/internal/core/config/phase_05_services.go","line":36},"msg":"âœ… ServiÃ§o inicializado","service":"ComplexService"}
{"time":"2025-09-05T15:31:48.632994953Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase05_InitializeServices","file":"/codigos/go_code/toq_server/internal/core/config/phase_05_services.go","line":32},"msg":"Inicializando serviÃ§o","service":"ListingService"}
{"time":"2025-09-05T15:31:48.633014103Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).initializeListingService","file":"/codigos/go_code/toq_server/internal/core/config/phase_05_services.go","line":92},"msg":"Inicializando Listing Service"}
{"time":"2025-09-05T15:31:48.633032533Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).InitListingHandler","file":"/codigos/go_code/toq_server/internal/core/config/inject_dependencies.go","line":197},"msg":"Initializing Listing Handler"}
{"time":"2025-09-05T15:31:48.633049754Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).initializeListingService","file":"/codigos/go_code/toq_server/internal/core/config/phase_05_services.go","line":97},"msg":"âœ… Listing Service inicializado"}
{"time":"2025-09-05T15:31:48.633068374Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase05_InitializeServices","file":"/codigos/go_code/toq_server/internal/core/config/phase_05_services.go","line":36},"msg":"âœ… ServiÃ§o inicializado","service":"ListingService"}
{"time":"2025-09-05T15:31:48.633088294Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase05_InitializeServices","file":"/codigos/go_code/toq_server/internal/core/config/phase_05_services.go","line":39},"msg":"âœ… Todos os serviÃ§os inicializados com sucesso"}
{"time":"2025-09-05T15:31:48.633123875Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).logPhaseEnd","file":"/codigos/go_code/toq_server/internal/core/config/bootstrap.go","line":96},"msg":"âœ… Fase concluÃ­da","phase":"Phase05_InitializeServices","component":"bootstrap","duration":"672.721Âµs"}
{"time":"2025-09-05T15:31:48.633151115Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).logPhaseStart","file":"/codigos/go_code/toq_server/internal/core/config/bootstrap.go","line":88},"msg":"â–¶ï¸ Executando fase","phase":"Phase06_ConfigureHandlers","component":"bootstrap","timestamp":"2025-09-05T15:31:48Z"}
{"time":"2025-09-05T15:31:48.633192626Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase06_ConfigureHandlers","file":"/codigos/go_code/toq_server/internal/core/config/phase_06_handlers.go","line":10},"msg":"ðŸŽ¯ FASE 6: ConfiguraÃ§Ã£o de Handlers e Rotas"}
{"time":"2025-09-05T15:31:48.633229897Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase06_ConfigureHandlers","file":"/codigos/go_code/toq_server/internal/core/config/phase_06_handlers.go","line":11},"msg":"Configurando handlers HTTP e sistema de rotas"}
{"time":"2025-09-05T15:31:48.633253547Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).initializeHTTPServer","file":"/codigos/go_code/toq_server/internal/core/config/phase_06_handlers.go","line":39},"msg":"Inicializando servidor HTTP com middleware"}
[GIN-debug] [WARNING] Running in "debug" mode. Switch to "release" mode in production.
 - using env:	export GIN_MODE=release
 - using code:	gin.SetMode(gin.ReleaseMode)

{"time":"2025-09-05T15:31:48.633306658Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).SetupHTTPServer","file":"/codigos/go_code/toq_server/internal/core/config/config_model.go","line":499},"msg":"HTTP server initialized","port":":8080","read_timeout":"30s","write_timeout":"30s"}
{"time":"2025-09-05T15:31:48.633333568Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).InitializeHTTP","file":"/codigos/go_code/toq_server/internal/core/config/config_model.go","line":484},"msg":"HTTP server initialization completed"}
{"time":"2025-09-05T15:31:48.633352109Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).initializeHTTPServer","file":"/codigos/go_code/toq_server/internal/core/config/phase_06_handlers.go","line":49},"msg":"âœ… Servidor HTTP configurado com TLS e middleware"}
{"time":"2025-09-05T15:31:48.633368509Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).createHTTPHandlers","file":"/codigos/go_code/toq_server/internal/core/config/phase_06_handlers.go","line":55},"msg":"Criando handlers HTTP via Factory Pattern"}
{"time":"2025-09-05T15:31:48.633384509Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).createHTTPHandlers","file":"/codigos/go_code/toq_server/internal/core/config/phase_06_handlers.go","line":59},"msg":"âœ… Handlers HTTP preparados para criaÃ§Ã£o"}
{"time":"2025-09-05T15:31:48.633400419Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).setupRoutesAndMiddleware","file":"/codigos/go_code/toq_server/internal/core/config/phase_06_handlers.go","line":65},"msg":"Configurando rotas e middlewares"}
{"time":"2025-09-05T15:31:48.63343948Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).createHTTPHandlers","file":"/codigos/go_code/toq_server/internal/core/config/config_model.go","line":541},"msg":"Creating HTTP handlers via factory pattern"}
{"time":"2025-09-05T15:31:48.63345795Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/factory.(*ConcreteAdapterFactory).CreateHTTPHandlers","file":"/codigos/go_code/toq_server/internal/core/factory/concrete_adapter_factory.go","line":220},"msg":"Creating HTTP handlers"}
{"time":"2025-09-05T15:31:48.633486591Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/factory.(*ConcreteAdapterFactory).CreateHTTPHandlers","file":"/codigos/go_code/toq_server/internal/core/factory/concrete_adapter_factory.go","line":245},"msg":"Successfully created all HTTP handlers"}
{"time":"2025-09-05T15:31:48.633502241Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).createHTTPHandlers","file":"/codigos/go_code/toq_server/internal/core/config/config_model.go","line":557},"msg":"âœ… HTTP handlers created successfully via factory"}
[GIN-debug] GET    /swagger/*any             --> github.com/swaggo/gin-swagger.CustomWrapHandler.func1 (8 handlers)
[GIN-debug] POST   /api/v2/auth/owner        --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/handlers/auth_handlers.(*AuthHandler).CreateOwner-fm (8 handlers)
[GIN-debug] POST   /api/v2/auth/realtor      --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/handlers/auth_handlers.(*AuthHandler).CreateRealtor-fm (8 handlers)
[GIN-debug] POST   /api/v2/auth/agency       --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/handlers/auth_handlers.(*AuthHandler).CreateAgency-fm (8 handlers)
[GIN-debug] POST   /api/v2/auth/signin       --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/handlers/auth_handlers.(*AuthHandler).SignIn-fm (8 handlers)
[GIN-debug] POST   /api/v2/auth/refresh      --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/handlers/auth_handlers.(*AuthHandler).RefreshToken-fm (8 handlers)
[GIN-debug] POST   /api/v2/auth/password/request --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/handlers/auth_handlers.(*AuthHandler).RequestPasswordChange-fm (8 handlers)
[GIN-debug] POST   /api/v2/auth/password/confirm --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/handlers/auth_handlers.(*AuthHandler).ConfirmPasswordChange-fm (8 handlers)
[GIN-debug] GET    /api/v2/user/profile      --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/handlers/user_handlers.(*UserHandler).GetProfile-fm (10 handlers)
[GIN-debug] PUT    /api/v2/user/profile      --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/handlers/user_handlers.(*UserHandler).UpdateProfile-fm (10 handlers)
[GIN-debug] DELETE /api/v2/user/account      --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/handlers/user_handlers.(*UserHandler).DeleteAccount-fm (10 handlers)
[GIN-debug] GET    /api/v2/user/onboarding   --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/routes.RegisterUserRoutes.func1 (10 handlers)
[GIN-debug] GET    /api/v2/user/roles        --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/routes.RegisterUserRoutes.func2 (10 handlers)
[GIN-debug] GET    /api/v2/user/home         --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/routes.RegisterUserRoutes.func3 (10 handlers)
[GIN-debug] PUT    /api/v2/user/opt-status   --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/handlers/user_handlers.(*UserHandler).UpdateOptStatus-fm (10 handlers)
[GIN-debug] POST   /api/v2/user/signout      --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/handlers/user_handlers.(*UserHandler).SignOut-fm (10 handlers)
[GIN-debug] POST   /api/v2/user/photo/upload-url --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/handlers/user_handlers.(*UserHandler).GetPhotoUploadURL-fm (10 handlers)
[GIN-debug] GET    /api/v2/user/profile/thumbnails --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/handlers/user_handlers.(*UserHandler).GetProfileThumbnails-fm (10 handlers)
[GIN-debug] POST   /api/v2/user/email/request --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/handlers/user_handlers.(*UserHandler).RequestEmailChange-fm (10 handlers)
[GIN-debug] POST   /api/v2/user/email/confirm --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/handlers/user_handlers.(*UserHandler).ConfirmEmailChange-fm (10 handlers)
[GIN-debug] POST   /api/v2/user/email/resend --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/handlers/user_handlers.(*UserHandler).ResendEmailChangeCode-fm (10 handlers)
[GIN-debug] POST   /api/v2/user/phone/request --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/handlers/user_handlers.(*UserHandler).RequestPhoneChange-fm (10 handlers)
[GIN-debug] POST   /api/v2/user/phone/confirm --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/handlers/user_handlers.(*UserHandler).ConfirmPhoneChange-fm (10 handlers)
[GIN-debug] POST   /api/v2/user/phone/resend --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/handlers/user_handlers.(*UserHandler).ResendPhoneChangeCode-fm (10 handlers)
[GIN-debug] POST   /api/v2/user/role/alternative --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/routes.RegisterUserRoutes.func4 (10 handlers)
[GIN-debug] POST   /api/v2/user/role/switch  --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/routes.RegisterUserRoutes.func5 (10 handlers)
[GIN-debug] POST   /api/v2/agency/invite-realtor --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/routes.RegisterUserRoutes.func6 (10 handlers)
[GIN-debug] GET    /api/v2/agency/realtors   --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/routes.RegisterUserRoutes.func7 (10 handlers)
[GIN-debug] GET    /api/v2/agency/realtors/:id --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/routes.RegisterUserRoutes.func8 (10 handlers)
[GIN-debug] DELETE /api/v2/agency/realtors/:id --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/routes.RegisterUserRoutes.func9 (10 handlers)
[GIN-debug] POST   /api/v2/realtor/creci/verify --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/handlers/user_handlers.(*UserHandler).VerifyCreciDocuments-fm (10 handlers)
[GIN-debug] POST   /api/v2/realtor/creci/upload-url --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/handlers/user_handlers.(*UserHandler).GetCreciUploadURL-fm (10 handlers)
[GIN-debug] POST   /api/v2/realtor/invitation/accept --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/routes.RegisterUserRoutes.func10 (10 handlers)
[GIN-debug] POST   /api/v2/realtor/invitation/reject --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/routes.RegisterUserRoutes.func11 (10 handlers)
[GIN-debug] GET    /api/v2/realtor/agency    --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/routes.RegisterUserRoutes.func12 (10 handlers)
[GIN-debug] DELETE /api/v2/realtor/agency    --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/routes.RegisterUserRoutes.func13 (10 handlers)
[GIN-debug] GET    /api/v2/listings          --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/routes.RegisterListingRoutes.func1 (10 handlers)
[GIN-debug] POST   /api/v2/listings          --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/routes.RegisterListingRoutes.func2 (10 handlers)
[GIN-debug] GET    /api/v2/listings/search   --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/routes.RegisterListingRoutes.func3 (10 handlers)
[GIN-debug] GET    /api/v2/listings/options  --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/routes.RegisterListingRoutes.func4 (10 handlers)
[GIN-debug] GET    /api/v2/listings/features/base --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/routes.RegisterListingRoutes.func5 (10 handlers)
[GIN-debug] GET    /api/v2/listings/favorites --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/routes.RegisterListingRoutes.func6 (10 handlers)
[GIN-debug] GET    /api/v2/listings/:id      --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/routes.RegisterListingRoutes.func7 (10 handlers)
[GIN-debug] PUT    /api/v2/listings/:id      --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/routes.RegisterListingRoutes.func8 (10 handlers)
[GIN-debug] DELETE /api/v2/listings/:id      --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/routes.RegisterListingRoutes.func9 (10 handlers)
[GIN-debug] POST   /api/v2/listings/:id/end-update --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/routes.RegisterListingRoutes.func10 (10 handlers)
[GIN-debug] GET    /api/v2/listings/:id/status --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/routes.RegisterListingRoutes.func11 (10 handlers)
[GIN-debug] POST   /api/v2/listings/:id/approve --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/routes.RegisterListingRoutes.func12 (10 handlers)
[GIN-debug] POST   /api/v2/listings/:id/reject --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/routes.RegisterListingRoutes.func13 (10 handlers)
[GIN-debug] POST   /api/v2/listings/:id/suspend --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/routes.RegisterListingRoutes.func14 (10 handlers)
[GIN-debug] POST   /api/v2/listings/:id/release --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/routes.RegisterListingRoutes.func15 (10 handlers)
[GIN-debug] POST   /api/v2/listings/:id/copy --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/routes.RegisterListingRoutes.func16 (10 handlers)
[GIN-debug] POST   /api/v2/listings/:id/share --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/routes.RegisterListingRoutes.func17 (10 handlers)
[GIN-debug] POST   /api/v2/listings/:id/favorite --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/routes.RegisterListingRoutes.func18 (10 handlers)
[GIN-debug] DELETE /api/v2/listings/:id/favorite --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/routes.RegisterListingRoutes.func19 (10 handlers)
[GIN-debug] POST   /api/v2/listings/:id/visit/request --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/routes.RegisterListingRoutes.func20 (10 handlers)
[GIN-debug] GET    /api/v2/listings/:id/visits --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/routes.RegisterListingRoutes.func21 (10 handlers)
[GIN-debug] POST   /api/v2/listings/:id/offers --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/routes.RegisterListingRoutes.func22 (10 handlers)
[GIN-debug] GET    /api/v2/listings/:id/offers --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/routes.RegisterListingRoutes.func23 (10 handlers)
[GIN-debug] GET    /api/v2/visits            --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/routes.RegisterListingRoutes.func24 (10 handlers)
[GIN-debug] DELETE /api/v2/visits/:id        --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/routes.RegisterListingRoutes.func25 (10 handlers)
[GIN-debug] POST   /api/v2/visits/:id/confirm --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/routes.RegisterListingRoutes.func26 (10 handlers)
[GIN-debug] POST   /api/v2/visits/:id/approve --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/routes.RegisterListingRoutes.func27 (10 handlers)
[GIN-debug] POST   /api/v2/visits/:id/reject --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/routes.RegisterListingRoutes.func28 (10 handlers)
[GIN-debug] GET    /api/v2/offers            --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/routes.RegisterListingRoutes.func29 (10 handlers)
[GIN-debug] PUT    /api/v2/offers/:id        --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/routes.RegisterListingRoutes.func30 (10 handlers)
[GIN-debug] DELETE /api/v2/offers/:id        --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/routes.RegisterListingRoutes.func31 (10 handlers)
[GIN-debug] POST   /api/v2/offers/:id/send   --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/routes.RegisterListingRoutes.func32 (10 handlers)
[GIN-debug] POST   /api/v2/offers/:id/approve --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/routes.RegisterListingRoutes.func33 (10 handlers)
[GIN-debug] POST   /api/v2/offers/:id/reject --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/routes.RegisterListingRoutes.func34 (10 handlers)
[GIN-debug] POST   /api/v2/realtors/:id/evaluate --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/routes.RegisterListingRoutes.func35 (10 handlers)
[GIN-debug] POST   /api/v2/owners/:id/evaluate --> github.com/giulio-alfieri/toq_server/internal/adapter/left/http/routes.RegisterListingRoutes.func36 (10 handlers)
[GIN-debug] GET    /healthz                  --> github.com/giulio-alfieri/toq_server/internal/core/config.(*config).setupBasicRoutes.func2 (9 handlers)
[GIN-debug] GET    /readyz                   --> github.com/giulio-alfieri/toq_server/internal/core/config.(*config).setupBasicRoutes.func3 (9 handlers)
[GIN-debug] GET    /metrics                  --> go:interface { GetMetrics(*github.com/gin-gonic/gin.Context) }.GetMetrics-fm (8 handlers)
[GIN-debug] GET    /api/v2/ping              --> github.com/giulio-alfieri/toq_server/internal/core/config.(*config).setupBasicRoutes.func4 (8 handlers)
{"time":"2025-09-05T15:31:48.634958634Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).SetupHTTPHandlersAndRoutes","file":"/codigos/go_code/toq_server/internal/core/config/config_model.go","line":536},"msg":"HTTP handlers and routes configured successfully"}
{"time":"2025-09-05T15:31:48.635006185Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).setupRoutesAndMiddleware","file":"/codigos/go_code/toq_server/internal/core/config/phase_06_handlers.go","line":70},"msg":"âœ… Rotas e middlewares configurados"}
{"time":"2025-09-05T15:31:48.635025795Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).setupHealthChecks","file":"/codigos/go_code/toq_server/internal/core/config/phase_06_handlers.go","line":76},"msg":"Configurando health checks (liveness/readiness)"}
{"time":"2025-09-05T15:31:48.635042196Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).setupHealthChecks","file":"/codigos/go_code/toq_server/internal/core/config/phase_06_handlers.go","line":81},"msg":"âœ… Health checks configurados"}
{"time":"2025-09-05T15:31:48.635058356Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase06_ConfigureHandlers","file":"/codigos/go_code/toq_server/internal/core/config/phase_06_handlers.go","line":33},"msg":"âœ… Handlers e rotas configurados com sucesso"}
{"time":"2025-09-05T15:31:48.635090107Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).logPhaseEnd","file":"/codigos/go_code/toq_server/internal/core/config/bootstrap.go","line":96},"msg":"âœ… Fase concluÃ­da","phase":"Phase06_ConfigureHandlers","component":"bootstrap","duration":"1.936881ms"}
{"time":"2025-09-05T15:31:48.635117647Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).logPhaseStart","file":"/codigos/go_code/toq_server/internal/core/config/bootstrap.go","line":88},"msg":"â–¶ï¸ Executando fase","phase":"Phase07_StartBackgroundWorkers","component":"bootstrap","timestamp":"2025-09-05T15:31:48Z"}
{"time":"2025-09-05T15:31:48.635181128Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase07_StartBackgroundWorkers","file":"/codigos/go_code/toq_server/internal/core/config/phase_07_workers.go","line":12},"msg":"ðŸŽ¯ FASE 7: InicializaÃ§Ã£o de Background Workers"}
{"time":"2025-09-05T15:31:48.635220469Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase07_StartBackgroundWorkers","file":"/codigos/go_code/toq_server/internal/core/config/phase_07_workers.go","line":13},"msg":"Configurando workers em background"}
{"time":"2025-09-05T15:31:48.635265509Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).initializeSystemGoroutines","file":"/codigos/go_code/toq_server/internal/core/config/phase_07_workers.go","line":36},"msg":"Inicializando goroutines do sistema"}
{"time":"2025-09-05T15:31:48.63529236Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).InitializeGoRoutines","file":"/codigos/go_code/toq_server/internal/core/config/config_model.go","line":238},"msg":"Activity tracker batch worker started"}
{"time":"2025-09-05T15:31:48.63531564Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).InitializeGoRoutines","file":"/codigos/go_code/toq_server/internal/core/config/config_model.go","line":250},"msg":"Temp block cleaner worker started"}
{"time":"2025-09-05T15:31:48.635337911Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).InitializeGoRoutines","file":"/codigos/go_code/toq_server/internal/core/config/config_model.go","line":264},"msg":"Session cleaner worker started","interval_seconds":300}
{"time":"2025-09-05T15:31:48.635362211Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).InitializeGoRoutines","file":"/codigos/go_code/toq_server/internal/core/config/config_model.go","line":281},"msg":"Validation cleaner worker started","interval_seconds":300}
{"time":"2025-09-05T15:31:48.635383661Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).initializeSystemGoroutines","file":"/codigos/go_code/toq_server/internal/core/config/phase_07_workers.go","line":41},"msg":"âœ… Background workers inicializados"}
{"time":"2025-09-05T15:31:48.635402412Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).linkActivityTrackerToUserService","file":"/codigos/go_code/toq_server/internal/core/config/phase_07_workers.go","line":47},"msg":"Verificando e conectando activity tracker ao user service"}
{"time":"2025-09-05T15:31:48.635419502Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).SetActivityTrackerUserService","file":"/codigos/go_code/toq_server/internal/core/config/config_model.go","line":291},"msg":"Activity tracker connected to user service"}
{"time":"2025-09-05T15:31:48.635448072Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).linkActivityTrackerToUserService","file":"/codigos/go_code/toq_server/internal/core/config/phase_07_workers.go","line":57},"msg":"âœ… Activity tracker conectado ao user service"}
{"time":"2025-09-05T15:31:48.635466133Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).verifyDatabaseSchema","file":"/codigos/go_code/toq_server/internal/core/config/phase_07_workers.go","line":63},"msg":"Verificando schema do banco de dados"}
{"time":"2025-09-05T15:31:48.635638855Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/go_routines.(*TempBlockCleanerWorker).Start","file":"/codigos/go_code/toq_server/internal/core/go_routines/temp_block_cleaner_worker.go","line":34},"msg":"TempBlockCleanerWorker started"}
{"time":"2025-09-05T15:31:48.635680146Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/go_routines.(*TempBlockCleanerWorker).processExpiredBlocks","file":"/codigos/go_code/toq_server/internal/core/go_routines/temp_block_cleaner_worker.go","line":68},"msg":"Processing expired temporary blocks"}
{"time":"2025-09-05T15:31:48.636393818Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/go_routines.(*ActivityTracker).StartBatchWorker","file":"/codigos/go_code/toq_server/internal/core/go_routines/activity_tracker.go","line":55},"msg":"Activity batch worker started","interval":30000000000}
{"time":"2025-09-05T15:31:48.636515Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/go_routines.SessionCleaner","file":"/codigos/go_code/toq_server/internal/core/go_routines/session_cleaner_worker.go","line":14},"msg":"session cleaner routine started"}
{"time":"2025-09-05T15:31:48.63656129Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/go_routines.ValidationCleaner","file":"/codigos/go_code/toq_server/internal/core/go_routines/validation_cleaner_worker.go","line":13},"msg":"validation cleaner worker started","interval":300000000000}
{"time":"2025-09-05T15:31:48.637339063Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).VerifyDatabase","file":"/codigos/go_code/toq_server/internal/core/config/config_model.go","line":456},"msg":"Database connection verified successfully"}
{"time":"2025-09-05T15:31:48.637419804Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).verifyDatabaseSchema","file":"/codigos/go_code/toq_server/internal/core/config/phase_07_workers.go","line":68},"msg":"âœ… Schema do banco de dados verificado"}
{"time":"2025-09-05T15:31:48.637448345Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase07_StartBackgroundWorkers","file":"/codigos/go_code/toq_server/internal/core/config/phase_07_workers.go","line":30},"msg":"âœ… Background workers inicializados com sucesso"}
{"time":"2025-09-05T15:31:48.63779229Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).logPhaseEnd","file":"/codigos/go_code/toq_server/internal/core/config/bootstrap.go","line":96},"msg":"âœ… Fase concluÃ­da","phase":"Phase07_StartBackgroundWorkers","component":"bootstrap","duration":"2.535861ms"}
{"time":"2025-09-05T15:31:48.637834801Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).logPhaseStart","file":"/codigos/go_code/toq_server/internal/core/config/bootstrap.go","line":88},"msg":"â–¶ï¸ Executando fase","phase":"Phase08_StartServer","component":"bootstrap","timestamp":"2025-09-05T15:31:48Z"}
{"time":"2025-09-05T15:31:48.638015504Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase08_StartServer","file":"/codigos/go_code/toq_server/internal/core/config/phase_08_startup.go","line":18},"msg":"ðŸŽ¯ FASE 8: InicializaÃ§Ã£o Final e Runtime"}
{"time":"2025-09-05T15:31:48.638202107Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase08_StartServer","file":"/codigos/go_code/toq_server/internal/core/config/phase_08_startup.go","line":19},"msg":"Preparando servidor para aceitar conexÃµes"}
{"time":"2025-09-05T15:31:48.638238208Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).markServerReady","file":"/codigos/go_code/toq_server/internal/core/config/phase_08_startup.go","line":42},"msg":"Marcando servidor como pronto para trÃ¡fego"}
{"time":"2025-09-05T15:31:48.63838099Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).markServerReady","file":"/codigos/go_code/toq_server/internal/core/config/phase_08_startup.go","line":47},"msg":"âœ… Servidor marcado como ready para receber trÃ¡fego"}
{"time":"2025-09-05T15:31:48.63841381Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).startHTTPServer","file":"/codigos/go_code/toq_server/internal/core/config/phase_08_startup.go","line":53},"msg":"Iniciando servidor HTTP"}
{"time":"2025-09-05T15:31:48.638584113Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).startHTTPServer.func1","file":"/codigos/go_code/toq_server/internal/core/config/phase_08_startup.go","line":71},"msg":"ðŸš€ Iniciando servidor HTTP na porta configurada"}
{"time":"2025-09-05T15:31:48.641955348Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/adapter/right/mysql/permission.(*PermissionAdapter).GetExpiredTempBlockedUsers","file":"/codigos/go_code/toq_server/internal/adapter/right/mysql/permission/user_blocking.go","line":103},"msg":"Found expired temp blocked users","count":0}
{"time":"2025-09-05T15:31:48.643680555Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/go_routines.(*TempBlockCleanerWorker).processExpiredBlocks","file":"/codigos/go_code/toq_server/internal/core/go_routines/temp_block_cleaner_worker.go","line":77},"msg":"No expired temporary blocks found"}
{"time":"2025-09-05T15:31:48.739351891Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).startHTTPServer","file":"/codigos/go_code/toq_server/internal/core/config/phase_08_startup.go","line":96},"msg":"âœ… Servidor HTTP iniciado com sucesso"}
{"time":"2025-09-05T15:31:48.739429592Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).startHealthMonitoring","file":"/codigos/go_code/toq_server/internal/core/config/phase_08_startup.go","line":102},"msg":"Iniciando monitoramento de saÃºde em runtime"}
{"time":"2025-09-05T15:31:48.739475933Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).startHealthMonitoring","file":"/codigos/go_code/toq_server/internal/core/config/phase_08_startup.go","line":127},"msg":"âœ… Monitoramento de saÃºde em runtime iniciado"}
{"time":"2025-09-05T15:31:48.739500563Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase08_StartServer","file":"/codigos/go_code/toq_server/internal/core/config/phase_08_startup.go","line":34},"msg":"ðŸŒŸ TOQ Server pronto para servir","uptime":123249381}
{"time":"2025-09-05T15:31:48.739534654Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).logPhaseEnd","file":"/codigos/go_code/toq_server/internal/core/config/bootstrap.go","line":96},"msg":"âœ… Fase concluÃ­da","phase":"Phase08_StartServer","component":"bootstrap","duration":"101.698553ms"}
{"time":"2025-09-05T15:31:48.739601175Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Bootstrap","file":"/codigos/go_code/toq_server/internal/core/config/bootstrap.go","line":137},"msg":"ðŸŽ‰ TOQ Server inicializado com sucesso","component":"bootstrap","total_time":"123.348743ms"}
{"time":"2025-09-05T15:31:54.43516775Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/adapter/left/http/middlewares.RequestIDMiddleware.func1","file":"/codigos/go_code/toq_server/internal/adapter/left/http/middlewares/request_id_middleware.go","line":43},"msg":"Request ID generated","request_id":"f9d0d97d-44b0-4dc7-8c00-ee2f9b2e52de","path":"/api/v2/auth/owner"}
{"time":"2025-09-05T15:31:54.436732156Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/adapter/left/http/handlers/auth_handlers.(*AuthHandler).CreateOwner","file":"/codigos/go_code/toq_server/internal/adapter/left/http/handlers/auth_handlers/create_owner.go","line":64},"msg":"auth.create_owner.debug","device_token":"fcm device token","ip":"177.9.64.219","user_agent":"PostmanRuntime/7.45.0","header_device_id":"","ctx_device_id":""}
{"time":"2025-09-05T15:31:54.440231352Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/adapter/right/cpf.(*CPFAdapter).GetCpf","file":"/codigos/go_code/toq_server/internal/adapter/right/cpf/cpf_validation_adapter.go","line":32},"msg":"Making request to CPF API","url":"https://ws.hubdodesenvolvedor.com.br/v2/cpf/?cpf=04679654805&data=14/06/1963&token=164634160QpAPJYxHbS297241984","cpf":"04679654805","bornAt":"14/06/1963"}
{"time":"2025-09-05T15:31:54.679387346Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/adapter/right/cep.(*CEPAdapter).GetCep","file":"/codigos/go_code/toq_server/internal/adapter/right/cep/cep_validation_adapter.go","line":30},"msg":"Making request to CEP API","url":"https://ws.hubdodesenvolvedor.com.br/v2/cep/?cep=06540400&token=164634160QpAPJYxHbS297241984","cep":"06540400"}
{"time":"2025-09-05T15:31:54.885465696Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/service/permission_service.(*permissionServiceImpl).AssignRoleToUserWithTx","file":"/codigos/go_code/toq_server/internal/core/service/permission_service/assign_role_to_user.go","line":60},"msg":"permission.role.assign.request","user_id":2,"role_id":3,"expires_at":null}
{"time":"2025-09-05T15:31:54.888934412Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/service/permission_service.(*permissionServiceImpl).AssignRoleToUserWithTx","file":"/codigos/go_code/toq_server/internal/core/service/permission_service/assign_role_to_user.go","line":96},"msg":"permission.role.assigned","user_id":2,"role_id":3,"role_name":"ProprietÃ¡rio"}
{"time":"2025-09-05T15:31:54.890467077Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/adapter/right/aws_s3.(*S3Adapter).CreateUserFolder","file":"/codigos/go_code/toq_server/internal/adapter/right/aws_s3/create_user_folder.go","line":19},"msg":"Creating user folder structure in S3","userID":2,"bucket":"toq-app-media"}
{"time":"2025-09-05T15:31:54.956924091Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/adapter/right/aws_s3.(*S3Adapter).CreateUserFolder","file":"/codigos/go_code/toq_server/internal/adapter/right/aws_s3/create_user_folder.go","line":40},"msg":"placeholder created in S3","userID":2,"path":"2/.placeholder"}
{"time":"2025-09-05T15:31:54.976755801Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/adapter/right/aws_s3.(*S3Adapter).CreateUserFolder","file":"/codigos/go_code/toq_server/internal/adapter/right/aws_s3/create_user_folder.go","line":40},"msg":"placeholder created in S3","userID":2,"path":"2/thumbnails/.placeholder"}
{"time":"2025-09-05T15:31:54.976821222Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/adapter/right/aws_s3.(*S3Adapter).CreateUserFolder","file":"/codigos/go_code/toq_server/internal/adapter/right/aws_s3/create_user_folder.go","line":43},"msg":"user folder structure created successfully in S3","userID":2,"bucket":"toq-app-media"}
{"time":"2025-09-05T15:31:54.986544059Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/service/user_service.(*userService).SignInWithContext","file":"/codigos/go_code/toq_server/internal/core/service/user_service/signin.go","line":41},"msg":"auth.signin_with_context.debug","national_id":"04679654805","has_device_token":true,"ip":"177.9.64.219","user_agent":"PostmanRuntime/7.45.0","ctx_device_id":""}
{"time":"2025-09-05T15:31:55.128076216Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/service/user_service.(*userService).signIn","file":"/codigos/go_code/toq_server/internal/core/service/user_service/signin.go","line":166},"msg":"auth.signin.device_token.add_user_only","user_id":2}
{"time":"2025-09-05T15:31:55.132552639Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/service/user_service.(*securityEventLogger).LogSecurityEvent","file":"/codigos/go_code/toq_server/internal/core/service/user_service/security_logger.go","line":59},"msg":"Security event logged","eventType":"signin_success","result":"success","timestamp":"2025-09-05T15:31:55.132538518Z","userID":2,"nationalID":"04679654805","ipAddress":"177.9.64.219","userAgent":"PostmanRuntime/7.45.0"}
{"time":"2025-09-05T15:31:55.13266929Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/service/user_service.(*userService).signIn","file":"/codigos/go_code/toq_server/internal/core/service/user_service/signin.go","line":181},"msg":"User signed in successfully","userID":2}
{"time":"2025-09-05T15:31:55.133059727Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/service/global_service.(*globalService).StartSessionEventSubscriber.func2","file":"/codigos/go_code/toq_server/internal/core/service/global_service/session_notification_subscriber.go","line":32},"msg":"session.event.received","type":"session.created","user_id":2,"session_id":1,"device_id":""}
{"time":"2025-09-05T15:31:55.140889963Z","level":"INFO","msg":"HTTP Request","request_id":"f9d0d97d-44b0-4dc7-8c00-ee2f9b2e52de","method":"POST","path":"/api/v2/auth/owner","status":201,"duration":705598391,"size":640,"client_ip":"177.9.64.219","user_agent":"PostmanRuntime/7.45.0","trace_id":"0df0b5e0837710e245a2e8282a35d086","span_id":"e1850b6506b5ad85"}
{"time":"2025-09-05T15:32:16.652303497Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/adapter/left/http/middlewares.RequestIDMiddleware.func1","file":"/codigos/go_code/toq_server/internal/adapter/left/http/middlewares/request_id_middleware.go","line":43},"msg":"Request ID generated","request_id":"a1f48ad6-53f8-44a9-aafa-c98e8215be4c","path":"/api/v2/user/email/resend"}
{"time":"2025-09-05T15:32:16.652998738Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/service/permission_service.(*permissionServiceImpl).HasHTTPPermission","file":"/codigos/go_code/toq_server/internal/core/service/permission_service/has_http_permission.go","line":26},"msg":"permission.http.check.start","user_id":2,"method":"POST","path":"/api/v2/user/email/resend"}
{"time":"2025-09-05T15:32:16.655664972Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/service/permission_service.(*permissionServiceImpl).HasPermission","file":"/codigos/go_code/toq_server/internal/core/service/permission_service/has_permission.go","line":46},"msg":"permission.check.start","user_id":2,"resource":"http","action":"POST:/api/v2/user/email/resend"}
{"time":"2025-09-05T15:32:16.656243241Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/service/permission_service.(*permissionServiceImpl).getUserPermissionsFromCache","file":"/codigos/go_code/toq_server/internal/core/service/permission_service/has_permission.go","line":135},"msg":"Cache miss for user permissions","userID":2,"error":"cache miss - user permissions not found for user 2"}
{"time":"2025-09-05T15:32:16.656317282Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/service/permission_service.(*permissionServiceImpl).getUserPermissionsWithCache","file":"/codigos/go_code/toq_server/internal/core/service/permission_service/has_permission.go","line":94},"msg":"Cache miss for user permissions","userID":2,"error":"cache miss - cache miss - user permissions not found for user 2"}
{"time":"2025-09-05T15:32:16.660086863Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/cache.(*RedisCache).SetUserPermissions","file":"/codigos/go_code/toq_server/internal/core/cache/redis_cache.go","line":331},"msg":"User permissions cached","userID":2,"ttl":900000000000,"dataSize":3827}
{"time":"2025-09-05T15:32:16.660415769Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/service/permission_service.(*permissionServiceImpl).setUserPermissionsInCache","file":"/codigos/go_code/toq_server/internal/core/service/permission_service/has_permission.go","line":219},"msg":"User permissions cached successfully","userID":2,"count":25,"dataSize":3827}
{"time":"2025-09-05T15:32:16.660448239Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/service/permission_service.(*permissionServiceImpl).getUserPermissionsWithCache","file":"/codigos/go_code/toq_server/internal/core/service/permission_service/has_permission.go","line":112},"msg":"Permissions loaded from database","userID":2,"count":25}
{"time":"2025-09-05T15:32:16.66046729Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/service/permission_service.(*permissionServiceImpl).HasPermission","file":"/codigos/go_code/toq_server/internal/core/service/permission_service/has_permission.go","line":73},"msg":"permission.check.allowed","user_id":2,"resource":"http","action":"POST:/api/v2/user/email/resend","permission_id":40}
{"time":"2025-09-05T15:32:16.66051121Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/adapter/left/http/middlewares.PermissionMiddleware.func1","file":"/codigos/go_code/toq_server/internal/adapter/left/http/middlewares/permission_middleware.go","line":71},"msg":"Permission granted","userID":2,"method":"POST","path":"/api/v2/user/email/resend"}
{"time":"2025-09-05T15:32:16.663917105Z","level":"INFO","msg":"HTTP Request","request_id":"a1f48ad6-53f8-44a9-aafa-c98e8215be4c","method":"POST","path":"/api/v2/user/email/resend","status":200,"duration":11547517,"size":42,"client_ip":"177.9.64.219","user_agent":"PostmanRuntime/7.45.0","trace_id":"ce3a94da9d77d3ce6544536350352a86","span_id":"be92fbfbbaa79aea","user_id":2,"user_role_id":2,"role_status":"pending_both"}
{"time":"2025-09-05T15:32:16.663998347Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/service/global_service.(*unifiedNotificationService).sendNotificationSync","file":"/codigos/go_code/toq_server/internal/core/service/global_service/notification_service.go","line":118},"msg":"Processando requisiÃ§Ã£o de notificaÃ§Ã£o","type":"email","to":"giulio.alfieri@gmail.com","subject":"TOQ - CÃ³digo de alteraÃ§Ã£o de email"}
{"time":"2025-09-05T15:32:16.664143479Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/service/global_service.(*unifiedNotificationService).sendEmail","file":"/codigos/go_code/toq_server/internal/core/service/global_service/notification_service.go","line":188},"msg":"Enviando notificaÃ§Ã£o por email","to":"giulio.alfieri@gmail.com","subject":"TOQ - CÃ³digo de alteraÃ§Ã£o de email"}
{"time":"2025-09-05T15:32:16.66418526Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/adapter/right/email.(*EmailAdapter).SendEmail","file":"/codigos/go_code/toq_server/internal/adapter/right/email/send_email.go","line":36},"msg":"Enviando email","attempt":1,"to":"giulio.alfieri@gmail.com","subject":"TOQ - CÃ³digo de alteraÃ§Ã£o de email"}
{"time":"2025-09-05T15:32:18.475826087Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/adapter/right/email.(*EmailAdapter).SendEmail","file":"/codigos/go_code/toq_server/internal/adapter/right/email/send_email.go","line":44},"msg":"Email enviado com sucesso","to":"giulio.alfieri@gmail.com","subject":"TOQ - CÃ³digo de alteraÃ§Ã£o de email","attempts":1}
{"time":"2025-09-05T15:32:18.475901298Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/service/global_service.(*unifiedNotificationService).sendEmail","file":"/codigos/go_code/toq_server/internal/core/service/global_service/notification_service.go","line":208},"msg":"Email enviado com sucesso","to":"giulio.alfieri@gmail.com","subject":"TOQ - CÃ³digo de alteraÃ§Ã£o de email"}
{"time":"2025-09-05T15:32:18.637425468Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/go_routines.(*ActivityTracker).flushActivitiesToDB","file":"/codigos/go_code/toq_server/internal/core/go_routines/activity_tracker.go","line":82},"msg":"Processing active users","count":1}
{"time":"2025-09-05T15:32:18.645772473Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/adapter/right/mysql/user.(*UserAdapter).BatchUpdateUserLastActivity","file":"/codigos/go_code/toq_server/internal/adapter/right/mysql/user/batch_update_user_last_activity.go","line":70},"msg":"Batch updated user activities","affected_rows":1,"batch_size":1}
{"time":"2025-09-05T15:32:18.645929605Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/go_routines.(*ActivityTracker).processBatch","file":"/codigos/go_code/toq_server/internal/core/go_routines/activity_tracker.go","line":154},"msg":"Successfully updated user activities","count":1}
{"time":"2025-09-05T15:32:48.637675926Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/go_routines.(*ActivityTracker).flushActivitiesToDB","file":"/codigos/go_code/toq_server/internal/core/go_routines/activity_tracker.go","line":82},"msg":"Processing active users","count":1}
{"time":"2025-09-05T15:32:48.639208301Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/adapter/right/mysql/user.(*UserAdapter).BatchUpdateUserLastActivity","file":"/codigos/go_code/toq_server/internal/adapter/right/mysql/user/batch_update_user_last_activity.go","line":70},"msg":"Batch updated user activities","affected_rows":0,"batch_size":1}
{"time":"2025-09-05T15:32:48.639410194Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/go_routines.(*ActivityTracker).processBatch","file":"/codigos/go_code/toq_server/internal/core/go_routines/activity_tracker.go","line":154},"msg":"Successfully updated user activities","count":1}
{"time":"2025-09-05T15:32:52.038901991Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/adapter/left/http/middlewares.RequestIDMiddleware.func1","file":"/codigos/go_code/toq_server/internal/adapter/left/http/middlewares/request_id_middleware.go","line":43},"msg":"Request ID generated","request_id":"50a6914c-2346-453b-982c-f1f257646c79","path":"/api/v2/user/email/confirm"}
{"time":"2025-09-05T15:32:52.039855466Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/service/permission_service.(*permissionServiceImpl).HasHTTPPermission","file":"/codigos/go_code/toq_server/internal/core/service/permission_service/has_http_permission.go","line":26},"msg":"permission.http.check.start","user_id":2,"method":"POST","path":"/api/v2/user/email/confirm"}
{"time":"2025-09-05T15:32:52.042860034Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/service/permission_service.(*permissionServiceImpl).HasPermission","file":"/codigos/go_code/toq_server/internal/core/service/permission_service/has_permission.go","line":46},"msg":"permission.check.start","user_id":2,"resource":"http","action":"POST:/api/v2/user/email/confirm"}
{"time":"2025-09-05T15:32:52.043300081Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/cache.(*RedisCache).GetUserPermissions","file":"/codigos/go_code/toq_server/internal/core/cache/redis_cache.go","line":318},"msg":"User permissions cache hit","userID":2,"dataSize":3827}
{"time":"2025-09-05T15:32:52.043906321Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/service/permission_service.(*permissionServiceImpl).getUserPermissionsFromCache","file":"/codigos/go_code/toq_server/internal/core/service/permission_service/has_permission.go","line":165},"msg":"User permissions cache hit","userID":2,"count":25,"cached_at":"2025-09-05T15:32:16.659510284Z"}
{"time":"2025-09-05T15:32:52.043955582Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/service/permission_service.(*permissionServiceImpl).getUserPermissionsWithCache","file":"/codigos/go_code/toq_server/internal/core/service/permission_service/has_permission.go","line":91},"msg":"Permissions loaded from cache","userID":2,"count":25}
{"time":"2025-09-05T15:32:52.043990983Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/service/permission_service.(*permissionServiceImpl).HasPermission","file":"/codigos/go_code/toq_server/internal/core/service/permission_service/has_permission.go","line":73},"msg":"permission.check.allowed","user_id":2,"resource":"http","action":"POST:/api/v2/user/email/confirm","permission_id":39}
{"time":"2025-09-05T15:32:52.044069934Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/adapter/left/http/middlewares.PermissionMiddleware.func1","file":"/codigos/go_code/toq_server/internal/adapter/left/http/middlewares/permission_middleware.go","line":71},"msg":"Permission granted","userID":2,"method":"POST","path":"/api/v2/user/email/confirm"}
{"time":"2025-09-05T15:33:00.653168892Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/adapter/right/mysql/user.(*UserAdapter).UpdateUserRoleStatus","file":"/codigos/go_code/toq_server/internal/adapter/right/mysql/user/update_user_role_status_tx.go","line":43},"msg":"Updated user role status (tx)","userID":2,"role":"owner","status":5}
{"time":"2025-09-05T15:33:00.663927136Z","level":"INFO","msg":"HTTP Request","request_id":"50a6914c-2346-453b-982c-f1f257646c79","method":"POST","path":"/api/v2/user/email/confirm","status":200,"duration":8624914594,"size":40,"client_ip":"177.9.64.219","user_agent":"PostmanRuntime/7.45.0","trace_id":"c319a92a7c738254dcaf24733e1bd915","span_id":"52f3493b74fc8e1c","user_id":2,"user_role_id":2,"role_status":"pending_both"}
{"time":"2025-09-05T15:33:10.61840828Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/adapter/left/http/middlewares.RequestIDMiddleware.func1","file":"/codigos/go_code/toq_server/internal/adapter/left/http/middlewares/request_id_middleware.go","line":43},"msg":"Request ID generated","request_id":"0583f0c5-8cf8-4c82-bcad-faea5b8d24fa","path":"/api/v2/user/phone/resend"}
{"time":"2025-09-05T15:33:10.618986329Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/service/permission_service.(*permissionServiceImpl).HasHTTPPermission","file":"/codigos/go_code/toq_server/internal/core/service/permission_service/has_http_permission.go","line":26},"msg":"permission.http.check.start","user_id":2,"method":"POST","path":"/api/v2/user/phone/resend"}
{"time":"2025-09-05T15:33:10.621122283Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/service/permission_service.(*permissionServiceImpl).HasPermission","file":"/codigos/go_code/toq_server/internal/core/service/permission_service/has_permission.go","line":46},"msg":"permission.check.start","user_id":2,"resource":"http","action":"POST:/api/v2/user/phone/resend"}
{"time":"2025-09-05T15:33:10.621464409Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/cache.(*RedisCache).GetUserPermissions","file":"/codigos/go_code/toq_server/internal/core/cache/redis_cache.go","line":318},"msg":"User permissions cache hit","userID":2,"dataSize":3827}
{"time":"2025-09-05T15:33:10.621920596Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/service/permission_service.(*permissionServiceImpl).getUserPermissionsFromCache","file":"/codigos/go_code/toq_server/internal/core/service/permission_service/has_permission.go","line":165},"msg":"User permissions cache hit","userID":2,"count":25,"cached_at":"2025-09-05T15:32:16.659510284Z"}
{"time":"2025-09-05T15:33:10.621958037Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/service/permission_service.(*permissionServiceImpl).getUserPermissionsWithCache","file":"/codigos/go_code/toq_server/internal/core/service/permission_service/has_permission.go","line":91},"msg":"Permissions loaded from cache","userID":2,"count":25}
{"time":"2025-09-05T15:33:10.621978407Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/service/permission_service.(*permissionServiceImpl).HasPermission","file":"/codigos/go_code/toq_server/internal/core/service/permission_service/has_permission.go","line":73},"msg":"permission.check.allowed","user_id":2,"resource":"http","action":"POST:/api/v2/user/phone/resend","permission_id":43}
{"time":"2025-09-05T15:33:10.622012808Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/adapter/left/http/middlewares.PermissionMiddleware.func1","file":"/codigos/go_code/toq_server/internal/adapter/left/http/middlewares/permission_middleware.go","line":71},"msg":"Permission granted","userID":2,"method":"POST","path":"/api/v2/user/phone/resend"}
{"time":"2025-09-05T15:33:10.624924035Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/service/global_service.(*unifiedNotificationService).sendNotificationSync","file":"/codigos/go_code/toq_server/internal/core/service/global_service/notification_service.go","line":118},"msg":"Processando requisiÃ§Ã£o de notificaÃ§Ã£o","type":"sms","to":"+5511999141768","subject":""}
{"time":"2025-09-05T15:33:10.625010046Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/service/global_service.(*unifiedNotificationService).sendSMS","file":"/codigos/go_code/toq_server/internal/core/service/global_service/notification_service.go","line":216},"msg":"Enviando notificaÃ§Ã£o por SMS","to":"+5511999141768"}
{"time":"2025-09-05T15:33:10.626225226Z","level":"INFO","msg":"HTTP Request","request_id":"0583f0c5-8cf8-4c82-bcad-faea5b8d24fa","method":"POST","path":"/api/v2/user/phone/resend","status":200,"duration":7739734,"size":42,"client_ip":"177.9.64.219","user_agent":"PostmanRuntime/7.45.0","trace_id":"06a63c901c2c25efc2e147735c62d102","span_id":"92f16768350fd008","user_id":2,"user_role_id":2,"role_status":"pending_both"}
Response: {"body":"TOQ - Seu cÃ³digo de validaÃ§Ã£o: BFFXK6","num_segments":"1","direction":"outbound-api","from":"+15405155642","to":"+5511999141768","date_updated":"Fri, 05 Sep 2025 15:33:10 +0000","uri":"/2010-04-01/Accounts/ACc8806b43030a5de367d142e99bcf0fa7/Messages/SMcec85db1179631fa7eb98e89036d8424.json","account_sid":"ACc8806b43030a5de367d142e99bcf0fa7","num_media":"0","status":"queued","sid":"SMcec85db1179631fa7eb98e89036d8424","date_created":"Fri, 05 Sep 2025 15:33:10 +0000","price_unit":"USD","api_version":"2010-04-01","subresource_uris":{"media":"/2010-04-01/Accounts/ACc8806b43030a5de367d142e99bcf0fa7/Messages/SMcec85db1179631fa7eb98e89036d8424/Media.json"}}
{"time":"2025-09-05T15:33:10.790363669Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/service/global_service.(*unifiedNotificationService).sendSMS","file":"/codigos/go_code/toq_server/internal/core/service/global_service/notification_service.go","line":233},"msg":"SMS enviado com sucesso","to":"+5511999141768"}
{"time":"2025-09-05T15:33:18.637683489Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/go_routines.(*ActivityTracker).flushActivitiesToDB","file":"/codigos/go_code/toq_server/internal/core/go_routines/activity_tracker.go","line":82},"msg":"Processing active users","count":1}
{"time":"2025-09-05T15:33:18.645062278Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/adapter/right/mysql/user.(*UserAdapter).BatchUpdateUserLastActivity","file":"/codigos/go_code/toq_server/internal/adapter/right/mysql/user/batch_update_user_last_activity.go","line":70},"msg":"Batch updated user activities","affected_rows":1,"batch_size":1}
{"time":"2025-09-05T15:33:18.645236731Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/go_routines.(*ActivityTracker).processBatch","file":"/codigos/go_code/toq_server/internal/core/go_routines/activity_tracker.go","line":154},"msg":"Successfully updated user activities","count":1}
{"time":"2025-09-05T15:33:40.410671173Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/adapter/left/http/middlewares.RequestIDMiddleware.func1","file":"/codigos/go_code/toq_server/internal/adapter/left/http/middlewares/request_id_middleware.go","line":43},"msg":"Request ID generated","request_id":"b1fe31c1-82d3-45db-97d4-6591d0d7386f","path":"/api/v2/user/phone/confirm"}
{"time":"2025-09-05T15:33:40.411466656Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/service/permission_service.(*permissionServiceImpl).HasHTTPPermission","file":"/codigos/go_code/toq_server/internal/core/service/permission_service/has_http_permission.go","line":26},"msg":"permission.http.check.start","user_id":2,"method":"POST","path":"/api/v2/user/phone/confirm"}
{"time":"2025-09-05T15:33:40.413935546Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/service/permission_service.(*permissionServiceImpl).HasPermission","file":"/codigos/go_code/toq_server/internal/core/service/permission_service/has_permission.go","line":46},"msg":"permission.check.start","user_id":2,"resource":"http","action":"POST:/api/v2/user/phone/confirm"}
{"time":"2025-09-05T15:33:40.414299232Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/cache.(*RedisCache).GetUserPermissions","file":"/codigos/go_code/toq_server/internal/core/cache/redis_cache.go","line":318},"msg":"User permissions cache hit","userID":2,"dataSize":3827}
{"time":"2025-09-05T15:33:40.414687318Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/service/permission_service.(*permissionServiceImpl).getUserPermissionsFromCache","file":"/codigos/go_code/toq_server/internal/core/service/permission_service/has_permission.go","line":165},"msg":"User permissions cache hit","userID":2,"count":25,"cached_at":"2025-09-05T15:32:16.659510284Z"}
{"time":"2025-09-05T15:33:40.414715148Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/service/permission_service.(*permissionServiceImpl).getUserPermissionsWithCache","file":"/codigos/go_code/toq_server/internal/core/service/permission_service/has_permission.go","line":91},"msg":"Permissions loaded from cache","userID":2,"count":25}
{"time":"2025-09-05T15:33:40.414733389Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/service/permission_service.(*permissionServiceImpl).HasPermission","file":"/codigos/go_code/toq_server/internal/core/service/permission_service/has_permission.go","line":73},"msg":"permission.check.allowed","user_id":2,"resource":"http","action":"POST:/api/v2/user/phone/confirm","permission_id":42}
{"time":"2025-09-05T15:33:40.415370169Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/adapter/left/http/middlewares.PermissionMiddleware.func1","file":"/codigos/go_code/toq_server/internal/adapter/left/http/middlewares/permission_middleware.go","line":71},"msg":"Permission granted","userID":2,"method":"POST","path":"/api/v2/user/phone/confirm"}
{"time":"2025-09-05T15:33:52.32442915Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/go_routines.(*ActivityTracker).flushActivitiesToDB","file":"/codigos/go_code/toq_server/internal/core/go_routines/activity_tracker.go","line":82},"msg":"Processing active users","count":1}
{"time":"2025-09-05T15:33:52.327883206Z","level":"ERROR","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/service/user_service.(*userService).applyStatusTransitionAfterContactChange","file":"/codigos/go_code/toq_server/internal/core/service/user_service/user_status_orchestrator.go","line":61},"msg":"user.status_transition.stage_error","stage":"get_validations","err":"sql: no rows in result set"}
{"time":"2025-09-05T15:33:52.327966707Z","level":"ERROR","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/service/user_service.(*userService).ConfirmPhoneChange","file":"/codigos/go_code/toq_server/internal/core/service/user_service/confirm_phone_change.go","line":67},"msg":"user.confirm_phone_change.apply_status_transition_error","err":"sql: no rows in result set"}
{"time":"2025-09-05T15:33:52.333026659Z","level":"ERROR","source":{"function":"github.com/giulio-alfieri/toq_server/internal/adapter/left/http/middlewares.StructuredLoggingMiddleware.func1","file":"/codigos/go_code/toq_server/internal/adapter/left/http/middlewares/structured_logging_middleware.go","line":172},"msg":"HTTP Error","request_id":"b1fe31c1-82d3-45db-97d4-6591d0d7386f","method":"POST","path":"/api/v2/user/phone/confirm","status":500,"duration":11922265265,"size":73,"client_ip":"177.9.64.219","user_agent":"PostmanRuntime/7.45.0","trace_id":"badfe41c8adf03412679afbabd927774","span_id":"d2259b080b82cbd5","user_id":2,"user_role_id":2,"role_status":"pending_both","errors":["Failed to apply status transition"]}
{"time":"2025-09-05T15:33:52.33680802Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/adapter/right/mysql/user.(*UserAdapter).BatchUpdateUserLastActivity","file":"/codigos/go_code/toq_server/internal/adapter/right/mysql/user/batch_update_user_last_activity.go","line":70},"msg":"Batch updated user activities","affected_rows":1,"batch_size":1}
{"time":"2025-09-05T15:33:52.337109415Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/go_routines.(*ActivityTracker).processBatch","file":"/codigos/go_code/toq_server/internal/core/go_routines/activity_tracker.go","line":154},"msg":"Successfully updated user activities","count":1}
{"time":"2025-09-05T15:34:18.637311655Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/go_routines.(*ActivityTracker).flushActivitiesToDB","file":"/codigos/go_code/toq_server/internal/core/go_routines/activity_tracker.go","line":82},"msg":"Processing active users","count":1}
{"time":"2025-09-05T15:34:18.639140045Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/adapter/right/mysql/user.(*UserAdapter).BatchUpdateUserLastActivity","file":"/codigos/go_code/toq_server/internal/adapter/right/mysql/user/batch_update_user_last_activity.go","line":70},"msg":"Batch updated user activities","affected_rows":0,"batch_size":1}
{"time":"2025-09-05T15:34:18.639307587Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/go_routines.(*ActivityTracker).processBatch","file":"/codigos/go_code/toq_server/internal/core/go_routines/activity_tracker.go","line":154},"msg":"Successfully updated user activities","count":1}
