Starting: /home/toq_admin/go/bin/dlv dap --listen=127.0.0.1:44027 --log-dest=3 from /codigos/go_code/toq_server/cmd
DAP server listening at: 127.0.0.1:44027
Type 'dlv help' for list of commands.
{"time":"2025-10-08T06:23:12.519209697Z","level":"INFO","source":{"function":"main.main","file":"/codigos/go_code/toq_server/cmd/toq_server.go","line":255},"msg":"üöÄ Iniciando TOQ Server Bootstrap","version":"2.0.0","component":"bootstrap","log_level":"debug","log_format":"json","log_output":"stdout"}
{"time":"2025-10-08T06:23:12.519415493Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).logPhaseStart","file":"/codigos/go_code/toq_server/internal/core/config/bootstrap.go","line":88},"msg":"‚ñ∂Ô∏è Executando fase","phase":"Phase01_InitializeContext","component":"bootstrap","timestamp":"2025-10-08T06:23:12Z"}
{"time":"2025-10-08T06:23:12.519528496Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase01_InitializeContext","file":"/codigos/go_code/toq_server/internal/core/config/phase_01_context.go","line":24},"msg":"üéØ FASE 1: Inicializa√ß√£o de Contexto e Sinais"}
{"time":"2025-10-08T06:23:12.51963848Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase01_InitializeContext","file":"/codigos/go_code/toq_server/internal/core/config/phase_01_context.go","line":25},"msg":"Configurando contexto base do sistema"}
{"time":"2025-10-08T06:23:12.51965868Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase01_InitializeContext","file":"/codigos/go_code/toq_server/internal/core/config/phase_01_context.go","line":28},"msg":"Configurando sinais de shutdown graceful"}
{"time":"2025-10-08T06:23:12.520341061Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).createSystemUserContext","file":"/codigos/go_code/toq_server/internal/core/config/phase_01_context.go","line":87},"msg":"üë§ Contexto do usu√°rio sistema criado","user_id":0}
{"time":"2025-10-08T06:23:12.520415104Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase01_InitializeContext","file":"/codigos/go_code/toq_server/internal/core/config/phase_01_context.go","line":47},"msg":"‚úÖ Contexto e sinais inicializados com sucesso"}
{"time":"2025-10-08T06:23:12.520452775Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).logPhaseEnd","file":"/codigos/go_code/toq_server/internal/core/config/bootstrap.go","line":96},"msg":"‚úÖ Fase conclu√≠da","phase":"Phase01_InitializeContext","component":"bootstrap","duration":"1.046323ms"}
{"time":"2025-10-08T06:23:12.520489276Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).logPhaseStart","file":"/codigos/go_code/toq_server/internal/core/config/bootstrap.go","line":88},"msg":"‚ñ∂Ô∏è Executando fase","phase":"Phase02_LoadConfiguration","component":"bootstrap","timestamp":"2025-10-08T06:23:12Z"}
{"time":"2025-10-08T06:23:12.520532257Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase02_LoadConfiguration","file":"/codigos/go_code/toq_server/internal/core/config/phase_02_config.go","line":19},"msg":"üéØ FASE 2: Carregamento e Valida√ß√£o de Configura√ß√£o"}
{"time":"2025-10-08T06:23:12.520564698Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase02_LoadConfiguration","file":"/codigos/go_code/toq_server/internal/core/config/phase_02_config.go","line":20},"msg":"Carregando configura√ß√£o do sistema"}
{"time":"2025-10-08T06:23:12.520583459Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).loadEnvironmentConfig","file":"/codigos/go_code/toq_server/internal/core/config/phase_02_config.go","line":43},"msg":"Carregando vari√°veis de ambiente"}
{"time":"2025-10-08T06:23:12.523184279Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).startPprofServer.func1","file":"/codigos/go_code/toq_server/internal/core/config/phase_01_context.go","line":106},"msg":"üîç Iniciando servidor pprof na porta 6060"}
{"time":"2025-10-08T06:23:12.523283102Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).startPprofServer.func1","file":"/codigos/go_code/toq_server/internal/core/config/phase_01_context.go","line":118},"msg":"‚úÖ Servidor pprof iniciado em localhost:6060"}
{"time":"2025-10-08T06:23:12.52452093Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).LoadEnv","file":"/codigos/go_code/toq_server/internal/core/config/config_model.go","line":337},"msg":"Configuration loaded successfully from YAML","path":"configs/env.yaml"}
{"time":"2025-10-08T06:23:12.525617014Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).loadEnvironmentConfig","file":"/codigos/go_code/toq_server/internal/core/config/phase_02_config.go","line":58},"msg":"‚úÖ Vari√°veis de ambiente carregadas"}
{"time":"2025-10-08T06:23:12.526043557Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).validateConfiguration","file":"/codigos/go_code/toq_server/internal/core/config/phase_02_config.go","line":64},"msg":"Validando configura√ß√£o completa"}
{"time":"2025-10-08T06:23:12.526237453Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).validateDatabaseConfig","file":"/codigos/go_code/toq_server/internal/core/config/phase_02_config.go","line":168},"msg":"Validando configura√ß√£o do banco de dados"}
{"time":"2025-10-08T06:23:12.52644317Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).validateDatabaseConfig","file":"/codigos/go_code/toq_server/internal/core/config/phase_02_config.go","line":206},"msg":"‚úÖ Configura√ß√£o do banco de dados validada com sucesso"}
{"time":"2025-10-08T06:23:12.526749229Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).validateHTTPConfig","file":"/codigos/go_code/toq_server/internal/core/config/phase_02_config.go","line":212},"msg":"Validando configura√ß√£o HTTP"}
{"time":"2025-10-08T06:23:12.526982046Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).validateHTTPConfig","file":"/codigos/go_code/toq_server/internal/core/config/phase_02_config.go","line":273},"msg":"‚úÖ Configura√ß√£o HTTP validada com sucesso"}
{"time":"2025-10-08T06:23:12.527586415Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).validateTelemetryConfig","file":"/codigos/go_code/toq_server/internal/core/config/phase_02_config.go","line":280},"msg":"Validando configura√ß√£o de telemetria"}
{"time":"2025-10-08T06:23:12.527663127Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).validateTelemetryConfig","file":"/codigos/go_code/toq_server/internal/core/config/phase_02_config.go","line":322},"msg":"‚úÖ Configura√ß√£o de telemetria validada com sucesso"}
{"time":"2025-10-08T06:23:12.527691698Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).validateConfiguration","file":"/codigos/go_code/toq_server/internal/core/config/phase_02_config.go","line":92},"msg":"‚úÖ Valida√ß√£o de configura√ß√£o conclu√≠da"}
{"time":"2025-10-08T06:23:12.527734129Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).applySecurityConfig","file":"/codigos/go_code/toq_server/internal/core/config/phase_02_config.go","line":163},"msg":"üîê JWT and token TTL configuration applied"}
{"time":"2025-10-08T06:23:12.527774351Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase02_LoadConfiguration","file":"/codigos/go_code/toq_server/internal/core/config/phase_02_config.go","line":35},"msg":"‚úÖ Configura√ß√£o carregada e validada com sucesso","version":"2.0.0"}
{"time":"2025-10-08T06:23:12.52937997Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).logPhaseEnd","file":"/codigos/go_code/toq_server/internal/core/config/bootstrap.go","line":96},"msg":"‚úÖ Fase conclu√≠da","phase":"Phase02_LoadConfiguration","component":"bootstrap","duration":"8.878543ms"}
{"time":"2025-10-08T06:23:12.529733101Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).logPhaseStart","file":"/codigos/go_code/toq_server/internal/core/config/bootstrap.go","line":88},"msg":"‚ñ∂Ô∏è Executando fase","phase":"Phase03_InitializeInfrastructure","component":"bootstrap","timestamp":"2025-10-08T06:23:12Z"}
{"time":"2025-10-08T06:23:12.529823794Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase03_InitializeInfrastructure","file":"/codigos/go_code/toq_server/internal/core/config/phase_03_infrastructure.go","line":19},"msg":"üéØ FASE 3: Inicializa√ß√£o da Infraestrutura Core"}
{"time":"2025-10-08T06:23:12.529883026Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase03_InitializeInfrastructure","file":"/codigos/go_code/toq_server/internal/core/config/phase_03_infrastructure.go","line":20},"msg":"Configurando infraestrutura fundamental"}
{"time":"2025-10-08T06:23:12.529922397Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).initializeDatabase","file":"/codigos/go_code/toq_server/internal/core/config/phase_03_infrastructure.go","line":48},"msg":"Inicializando conex√£o com banco de dados"}
{"time":"2025-10-08T06:23:12.535388986Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).InitializeDatabase","file":"/codigos/go_code/toq_server/internal/core/config/config_model.go","line":373},"msg":"Database connection initialized","uri":"toq_user:toq_password@tcp(localhost:3306)/toq_db?parseTime=true&loc=UTC&timeout=30s&readTimeout=30s&writeTimeout=30s"}
{"time":"2025-10-08T06:23:12.5358425Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).initializeDatabase","file":"/codigos/go_code/toq_server/internal/core/config/phase_03_infrastructure.go","line":64},"msg":"‚úÖ Conex√£o com banco de dados estabelecida"}
{"time":"2025-10-08T06:23:12.535875461Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).initializeCache","file":"/codigos/go_code/toq_server/internal/core/config/phase_03_infrastructure.go","line":70},"msg":"Inicializando sistema de cache Redis"}
{"time":"2025-10-08T06:23:12.535890721Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).initializeCache","file":"/codigos/go_code/toq_server/internal/core/config/phase_03_infrastructure.go","line":78},"msg":"Conectando ao Redis","url":"redis://localhost:6379/0"}
{"time":"2025-10-08T06:23:12.538948465Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/cache.NewRedisCache","file":"/codigos/go_code/toq_server/internal/core/cache/redis_cache.go","line":63},"msg":"Redis cache connected successfully","url":"redis://localhost:6379/0"}
{"time":"2025-10-08T06:23:12.539030088Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).initializeCache","file":"/codigos/go_code/toq_server/internal/core/config/phase_03_infrastructure.go","line":87},"msg":"‚úÖ Sistema de cache Redis inicializado com sucesso"}
{"time":"2025-10-08T06:23:12.539053189Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).initializeTelemetry","file":"/codigos/go_code/toq_server/internal/core/config/phase_03_infrastructure.go","line":93},"msg":"Inicializando sistema de telemetria OpenTelemetry"}
{"time":"2025-10-08T06:23:12.539394969Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*TelemetryManager).initializeTracing","file":"/codigos/go_code/toq_server/internal/core/config/telemetry.go","line":186},"msg":"OpenTelemetry tracing initialized","endpoint":"localhost:4318"}
{"time":"2025-10-08T06:23:12.539728439Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*TelemetryManager).initializeMetrics","file":"/codigos/go_code/toq_server/internal/core/config/telemetry.go","line":233},"msg":"OpenTelemetry metrics initialized","endpoint":"localhost:4318"}
{"time":"2025-10-08T06:23:12.540883055Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*TelemetryManager).initializeLogging","file":"/codigos/go_code/toq_server/internal/core/config/telemetry.go","line":131},"msg":"OpenTelemetry logs initialized","endpoint":"localhost:4318"}
{"time":"2025-10-08T06:23:12.541869146Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*TelemetryManager).Initialize","file":"/codigos/go_code/toq_server/internal/core/config/telemetry.go","line":73},"msg":"OpenTelemetry initialized successfully","tracing_enabled":true,"metrics_enabled":true,"endpoint":"localhost:4318"}
{"time":"2025-10-08T06:23:12.542256108Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).InitializeTelemetry","file":"/codigos/go_code/toq_server/internal/core/config/config_model.go","line":407},"msg":"OpenTelemetry initialized successfully"}
{"time":"2025-10-08T06:23:12.542289349Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).initializeTelemetry","file":"/codigos/go_code/toq_server/internal/core/config/phase_03_infrastructure.go","line":107},"msg":"‚úÖ OpenTelemetry inicializado (tracing + metrics)"}
{"time":"2025-10-08T06:23:12.542306879Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).initializeMetrics","file":"/codigos/go_code/toq_server/internal/core/config/phase_03_infrastructure.go","line":113},"msg":"Inicializando adapter de m√©tricas Prometheus"}
{"time":"2025-10-08T06:23:12.54233318Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/factory.(*ConcreteAdapterFactory).CreateMetricsAdapter","file":"/codigos/go_code/toq_server/internal/core/factory/concrete_adapter_factory.go","line":63},"msg":"Creating metrics adapter"}
{"time":"2025-10-08T06:23:12.542542176Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).initializeMetrics","file":"/codigos/go_code/toq_server/internal/core/config/phase_03_infrastructure.go","line":138},"msg":"‚úÖ Adapter de m√©tricas Prometheus inicializado"}
{"time":"2025-10-08T06:23:12.542570507Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase03_InitializeInfrastructure","file":"/codigos/go_code/toq_server/internal/core/config/phase_03_infrastructure.go","line":42},"msg":"‚úÖ Infraestrutura core inicializada com sucesso"}
{"time":"2025-10-08T06:23:12.542595748Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).logPhaseEnd","file":"/codigos/go_code/toq_server/internal/core/config/bootstrap.go","line":96},"msg":"‚úÖ Fase conclu√≠da","phase":"Phase03_InitializeInfrastructure","component":"bootstrap","duration":"12.867207ms"}
{"time":"2025-10-08T06:23:12.542626669Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).logPhaseStart","file":"/codigos/go_code/toq_server/internal/core/config/bootstrap.go","line":88},"msg":"‚ñ∂Ô∏è Executando fase","phase":"Phase04_InjectDependencies","component":"bootstrap","timestamp":"2025-10-08T06:23:12Z"}
{"time":"2025-10-08T06:23:12.542689801Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase04_InjectDependencies","file":"/codigos/go_code/toq_server/internal/core/config/phase_04_dependencies.go","line":11},"msg":"üéØ FASE 4: Inje√ß√£o de Depend√™ncias via Factory Pattern"}
{"time":"2025-10-08T06:23:12.542745643Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase04_InjectDependencies","file":"/codigos/go_code/toq_server/internal/core/config/phase_04_dependencies.go","line":12},"msg":"Configurando inje√ß√£o de depend√™ncias"}
{"time":"2025-10-08T06:23:12.542761293Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).initializeLifecycleManager","file":"/codigos/go_code/toq_server/internal/core/config/phase_04_dependencies.go","line":30},"msg":"Inicializando lifecycle manager"}
{"time":"2025-10-08T06:23:12.542776634Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).initializeLifecycleManager","file":"/codigos/go_code/toq_server/internal/core/config/phase_04_dependencies.go","line":35},"msg":"‚úÖ Lifecycle manager inicializado"}
{"time":"2025-10-08T06:23:12.542790254Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).InjectDependencies","file":"/codigos/go_code/toq_server/internal/core/config/inject_dependencies.go","line":20},"msg":"Starting dependency injection using Factory Pattern"}
{"time":"2025-10-08T06:23:12.542837646Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).InjectDependencies","file":"/codigos/go_code/toq_server/internal/core/config/inject_dependencies.go","line":21},"msg":"InjectDependencies method called on config instance"}
{"time":"2025-10-08T06:23:12.542864176Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/factory.ValidateFactoryConfig","file":"/codigos/go_code/toq_server/internal/core/factory/validation.go","line":13},"msg":"Validating factory configuration"}
{"time":"2025-10-08T06:23:12.542885367Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/factory.ValidateFactoryConfig","file":"/codigos/go_code/toq_server/internal/core/factory/validation.go","line":28},"msg":"Factory configuration validation successful"}
{"time":"2025-10-08T06:23:12.542906648Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/factory.(*ConcreteAdapterFactory).CreateStorageAdapters","file":"/codigos/go_code/toq_server/internal/core/factory/concrete_adapter_factory.go","line":146},"msg":"Creating storage adapters"}
{"time":"2025-10-08T06:23:12.54718278Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/cache.NewRedisCache","file":"/codigos/go_code/toq_server/internal/core/cache/redis_cache.go","line":63},"msg":"Redis cache connected successfully","url":"redis://localhost:6379/0"}
{"time":"2025-10-08T06:23:12.547286063Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/factory.(*ConcreteAdapterFactory).CreateStorageAdapters","file":"/codigos/go_code/toq_server/internal/core/factory/concrete_adapter_factory.go","line":165},"msg":"Successfully created all storage adapters"}
{"time":"2025-10-08T06:23:12.547316554Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).createActivityTracker","file":"/codigos/go_code/toq_server/internal/core/config/inject_dependencies.go","line":236},"msg":"‚úÖ ActivityTracker criado com sucesso com Redis client"}
{"time":"2025-10-08T06:23:12.547338734Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/factory.(*ConcreteAdapterFactory).CreateRepositoryAdapters","file":"/codigos/go_code/toq_server/internal/core/factory/concrete_adapter_factory.go","line":177},"msg":"Creating repository adapters"}
{"time":"2025-10-08T06:23:12.547400996Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/factory.(*ConcreteAdapterFactory).CreateRepositoryAdapters","file":"/codigos/go_code/toq_server/internal/core/factory/concrete_adapter_factory.go","line":200},"msg":"Successfully created all repository adapters"}
{"time":"2025-10-08T06:23:12.547423517Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).assignRepositoryAdapters","file":"/codigos/go_code/toq_server/internal/core/config/config_model.go","line":143},"msg":"Assigning repository adapters"}
{"time":"2025-10-08T06:23:12.547444338Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).assignRepositoryAdapters","file":"/codigos/go_code/toq_server/internal/core/config/config_model.go","line":179},"msg":"Repository adapters assigned successfully"}
{"time":"2025-10-08T06:23:12.547465208Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/factory.(*ConcreteAdapterFactory).CreateValidationAdapters","file":"/codigos/go_code/toq_server/internal/core/factory/concrete_adapter_factory.go","line":75},"msg":"Creating validation adapters"}
{"time":"2025-10-08T06:23:12.547494329Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/factory.(*ConcreteAdapterFactory).CreateValidationAdapters","file":"/codigos/go_code/toq_server/internal/core/factory/concrete_adapter_factory.go","line":95},"msg":"Successfully created all validation adapters"}
{"time":"2025-10-08T06:23:12.5475333Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).InjectDependencies","file":"/codigos/go_code/toq_server/internal/core/config/inject_dependencies.go","line":84},"msg":"Creating external service adapters"}
{"time":"2025-10-08T06:23:12.547555031Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/factory.(*ConcreteAdapterFactory).CreateExternalServiceAdapters","file":"/codigos/go_code/toq_server/internal/core/factory/concrete_adapter_factory.go","line":107},"msg":"Creating external service adapters"}
{"time":"2025-10-08T06:23:12.548904523Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/adapter/right/aws_s3.NewS3Adapter","file":"/codigos/go_code/toq_server/internal/adapter/right/aws_s3/s3_adapter.go","line":24},"msg":"Creating S3 adapter","region":"us-east-1","bucket":"toq-app-media"}
{"time":"2025-10-08T06:23:12.549698327Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/adapter/right/aws_s3.NewS3Adapter","file":"/codigos/go_code/toq_server/internal/adapter/right/aws_s3/s3_adapter.go","line":76},"msg":"S3 adapter created successfully","bucket":"toq-app-media","region":"us-east-1"}
{"time":"2025-10-08T06:23:12.54979341Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/factory.(*ConcreteAdapterFactory).CreateExternalServiceAdapters","file":"/codigos/go_code/toq_server/internal/core/factory/concrete_adapter_factory.go","line":132},"msg":"Successfully created all external service adapters"}
{"time":"2025-10-08T06:23:12.549842062Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).initializeServices","file":"/codigos/go_code/toq_server/internal/core/config/config_model.go","line":199},"msg":"Initializing all services"}
{"time":"2025-10-08T06:23:12.549880263Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).InitGlobalService","file":"/codigos/go_code/toq_server/internal/core/config/inject_dependencies.go","line":108},"msg":"Initializing Global Service"}
{"time":"2025-10-08T06:23:12.549918374Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/cache.(*RedisCache).SetGlobalService","file":"/codigos/go_code/toq_server/internal/core/cache/redis_cache.go","line":77},"msg":"GlobalService injected into RedisCache"}
{"time":"2025-10-08T06:23:12.549956175Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).InitGlobalService","file":"/codigos/go_code/toq_server/internal/core/config/inject_dependencies.go","line":164},"msg":"GlobalService injected into Redis cache"}
{"time":"2025-10-08T06:23:12.550001106Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).InitPermissionHandler","file":"/codigos/go_code/toq_server/internal/core/config/inject_dependencies.go","line":208},"msg":"Initializing Permission Handler"}
{"time":"2025-10-08T06:23:12.550039328Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).InitComplexHandler","file":"/codigos/go_code/toq_server/internal/core/config/inject_dependencies.go","line":189},"msg":"Initializing Complex Handler"}
{"time":"2025-10-08T06:23:12.550068219Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).InitListingHandler","file":"/codigos/go_code/toq_server/internal/core/config/inject_dependencies.go","line":197},"msg":"Initializing Listing Handler"}
{"time":"2025-10-08T06:23:12.550094129Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).InitUserHandler","file":"/codigos/go_code/toq_server/internal/core/config/inject_dependencies.go","line":174},"msg":"Initializing User Handler"}
{"time":"2025-10-08T06:23:12.55012127Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).initializeServices","file":"/codigos/go_code/toq_server/internal/core/config/config_model.go","line":208},"msg":"All services initialized successfully"}
{"time":"2025-10-08T06:23:12.550154461Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).InitializeTempBlockCleaner","file":"/codigos/go_code/toq_server/internal/core/config/config_model.go","line":308},"msg":"‚úÖ TempBlockCleanerWorker initialized"}
{"time":"2025-10-08T06:23:12.550180782Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).InjectDependencies","file":"/codigos/go_code/toq_server/internal/core/config/inject_dependencies.go","line":102},"msg":"Dependency injection completed successfully using Factory Pattern"}
{"time":"2025-10-08T06:23:12.550206103Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase04_InjectDependencies","file":"/codigos/go_code/toq_server/internal/core/config/phase_04_dependencies.go","line":24},"msg":"‚úÖ Inje√ß√£o de depend√™ncias conclu√≠da via Factory Pattern"}
{"time":"2025-10-08T06:23:12.550256134Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).logPhaseEnd","file":"/codigos/go_code/toq_server/internal/core/config/bootstrap.go","line":96},"msg":"‚úÖ Fase conclu√≠da","phase":"Phase04_InjectDependencies","component":"bootstrap","duration":"7.627995ms"}
{"time":"2025-10-08T06:23:12.550281235Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).logPhaseStart","file":"/codigos/go_code/toq_server/internal/core/config/bootstrap.go","line":88},"msg":"‚ñ∂Ô∏è Executando fase","phase":"Phase05_InitializeServices","component":"bootstrap","timestamp":"2025-10-08T06:23:12Z"}
{"time":"2025-10-08T06:23:12.550322216Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase05_InitializeServices","file":"/codigos/go_code/toq_server/internal/core/config/phase_05_services.go","line":16},"msg":"üéØ FASE 5: Inicializa√ß√£o de Servi√ßos"}
{"time":"2025-10-08T06:23:12.550354327Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase05_InitializeServices","file":"/codigos/go_code/toq_server/internal/core/config/phase_05_services.go","line":17},"msg":"Inicializando servi√ßos na ordem correta"}
{"time":"2025-10-08T06:23:12.550373578Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase05_InitializeServices","file":"/codigos/go_code/toq_server/internal/core/config/phase_05_services.go","line":32},"msg":"Inicializando servi√ßo","service":"GlobalService"}
{"time":"2025-10-08T06:23:12.550392239Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).initializeGlobalService","file":"/codigos/go_code/toq_server/internal/core/config/phase_05_services.go","line":45},"msg":"Inicializando Global Service"}
{"time":"2025-10-08T06:23:12.550409869Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).InitGlobalService","file":"/codigos/go_code/toq_server/internal/core/config/inject_dependencies.go","line":108},"msg":"Initializing Global Service"}
{"time":"2025-10-08T06:23:12.550462961Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/cache.(*RedisCache).SetGlobalService","file":"/codigos/go_code/toq_server/internal/core/cache/redis_cache.go","line":77},"msg":"GlobalService injected into RedisCache"}
{"time":"2025-10-08T06:23:12.550493102Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).InitGlobalService","file":"/codigos/go_code/toq_server/internal/core/config/inject_dependencies.go","line":164},"msg":"GlobalService injected into Redis cache"}
{"time":"2025-10-08T06:23:12.550521023Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).initializeGlobalService","file":"/codigos/go_code/toq_server/internal/core/config/phase_05_services.go","line":53},"msg":"‚úÖ Global Service inicializado"}
{"time":"2025-10-08T06:23:12.550540093Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase05_InitializeServices","file":"/codigos/go_code/toq_server/internal/core/config/phase_05_services.go","line":36},"msg":"‚úÖ Servi√ßo inicializado","service":"GlobalService"}
{"time":"2025-10-08T06:23:12.550559434Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase05_InitializeServices","file":"/codigos/go_code/toq_server/internal/core/config/phase_05_services.go","line":32},"msg":"Inicializando servi√ßo","service":"PermissionService"}
{"time":"2025-10-08T06:23:12.550581514Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).initializePermissionService","file":"/codigos/go_code/toq_server/internal/core/config/phase_05_services.go","line":59},"msg":"Inicializando Permission Service"}
{"time":"2025-10-08T06:23:12.550601625Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).InitPermissionHandler","file":"/codigos/go_code/toq_server/internal/core/config/inject_dependencies.go","line":208},"msg":"Initializing Permission Handler"}
{"time":"2025-10-08T06:23:12.550638066Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).initializePermissionService","file":"/codigos/go_code/toq_server/internal/core/config/phase_05_services.go","line":64},"msg":"‚úÖ Permission Service inicializado"}
{"time":"2025-10-08T06:23:12.550658647Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase05_InitializeServices","file":"/codigos/go_code/toq_server/internal/core/config/phase_05_services.go","line":36},"msg":"‚úÖ Servi√ßo inicializado","service":"PermissionService"}
{"time":"2025-10-08T06:23:12.550681868Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase05_InitializeServices","file":"/codigos/go_code/toq_server/internal/core/config/phase_05_services.go","line":32},"msg":"Inicializando servi√ßo","service":"UserService"}
{"time":"2025-10-08T06:23:12.550700178Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).initializeUserService","file":"/codigos/go_code/toq_server/internal/core/config/phase_05_services.go","line":70},"msg":"Inicializando User Service"}
{"time":"2025-10-08T06:23:12.550719299Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).InitUserHandler","file":"/codigos/go_code/toq_server/internal/core/config/inject_dependencies.go","line":174},"msg":"Initializing User Handler"}
{"time":"2025-10-08T06:23:12.55074747Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).initializeUserService","file":"/codigos/go_code/toq_server/internal/core/config/phase_05_services.go","line":75},"msg":"‚úÖ User Service inicializado"}
{"time":"2025-10-08T06:23:12.55076814Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase05_InitializeServices","file":"/codigos/go_code/toq_server/internal/core/config/phase_05_services.go","line":36},"msg":"‚úÖ Servi√ßo inicializado","service":"UserService"}
{"time":"2025-10-08T06:23:12.550791861Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase05_InitializeServices","file":"/codigos/go_code/toq_server/internal/core/config/phase_05_services.go","line":32},"msg":"Inicializando servi√ßo","service":"ComplexService"}
{"time":"2025-10-08T06:23:12.550810221Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).initializeComplexService","file":"/codigos/go_code/toq_server/internal/core/config/phase_05_services.go","line":81},"msg":"Inicializando Complex Service"}
{"time":"2025-10-08T06:23:12.550825452Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).InitComplexHandler","file":"/codigos/go_code/toq_server/internal/core/config/inject_dependencies.go","line":189},"msg":"Initializing Complex Handler"}
{"time":"2025-10-08T06:23:12.550853933Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).initializeComplexService","file":"/codigos/go_code/toq_server/internal/core/config/phase_05_services.go","line":86},"msg":"‚úÖ Complex Service inicializado"}
{"time":"2025-10-08T06:23:12.550873543Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase05_InitializeServices","file":"/codigos/go_code/toq_server/internal/core/config/phase_05_services.go","line":36},"msg":"‚úÖ Servi√ßo inicializado","service":"ComplexService"}
{"time":"2025-10-08T06:23:12.550892724Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase05_InitializeServices","file":"/codigos/go_code/toq_server/internal/core/config/phase_05_services.go","line":32},"msg":"Inicializando servi√ßo","service":"ListingService"}
{"time":"2025-10-08T06:23:12.550913675Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).initializeListingService","file":"/codigos/go_code/toq_server/internal/core/config/phase_05_services.go","line":92},"msg":"Inicializando Listing Service"}
{"time":"2025-10-08T06:23:12.550934585Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).InitListingHandler","file":"/codigos/go_code/toq_server/internal/core/config/inject_dependencies.go","line":197},"msg":"Initializing Listing Handler"}
{"time":"2025-10-08T06:23:12.550977247Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).initializeListingService","file":"/codigos/go_code/toq_server/internal/core/config/phase_05_services.go","line":97},"msg":"‚úÖ Listing Service inicializado"}
{"time":"2025-10-08T06:23:12.550996167Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase05_InitializeServices","file":"/codigos/go_code/toq_server/internal/core/config/phase_05_services.go","line":36},"msg":"‚úÖ Servi√ßo inicializado","service":"ListingService"}
{"time":"2025-10-08T06:23:12.551014728Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase05_InitializeServices","file":"/codigos/go_code/toq_server/internal/core/config/phase_05_services.go","line":39},"msg":"‚úÖ Todos os servi√ßos inicializados com sucesso"}
{"time":"2025-10-08T06:23:12.551045839Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).logPhaseEnd","file":"/codigos/go_code/toq_server/internal/core/config/bootstrap.go","line":96},"msg":"‚úÖ Fase conclu√≠da","phase":"Phase05_InitializeServices","component":"bootstrap","duration":"763.434¬µs"}
{"time":"2025-10-08T06:23:12.55107833Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).logPhaseStart","file":"/codigos/go_code/toq_server/internal/core/config/bootstrap.go","line":88},"msg":"‚ñ∂Ô∏è Executando fase","phase":"Phase06_ConfigureHandlers","component":"bootstrap","timestamp":"2025-10-08T06:23:12Z"}
{"time":"2025-10-08T06:23:12.551119491Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase06_ConfigureHandlers","file":"/codigos/go_code/toq_server/internal/core/config/phase_06_handlers.go","line":14},"msg":"üéØ FASE 6: Configura√ß√£o de Handlers e Rotas"}
{"time":"2025-10-08T06:23:12.551159282Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase06_ConfigureHandlers","file":"/codigos/go_code/toq_server/internal/core/config/phase_06_handlers.go","line":15},"msg":"Configurando handlers HTTP e sistema de rotas"}
{"time":"2025-10-08T06:23:12.551179663Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).initializeHTTPServer","file":"/codigos/go_code/toq_server/internal/core/config/phase_06_handlers.go","line":68},"msg":"Inicializando servidor HTTP com middleware"}
{"time":"2025-10-08T06:23:12.551218494Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).SetupHTTPServer","file":"/codigos/go_code/toq_server/internal/core/config/config_model.go","line":432},"msg":"HTTP server initialized","port":"127.0.0.1:8080","read_timeout":"30s","write_timeout":"30s"}
{"time":"2025-10-08T06:23:12.551285386Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).InitializeHTTP","file":"/codigos/go_code/toq_server/internal/core/config/config_model.go","line":417},"msg":"HTTP server initialization completed"}
{"time":"2025-10-08T06:23:12.551317727Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).initializeHTTPServer","file":"/codigos/go_code/toq_server/internal/core/config/phase_06_handlers.go","line":78},"msg":"‚úÖ Servidor HTTP configurado com TLS e middleware"}
{"time":"2025-10-08T06:23:12.551338028Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).createHTTPHandlers","file":"/codigos/go_code/toq_server/internal/core/config/phase_06_handlers.go","line":84},"msg":"Criando handlers HTTP via Factory Pattern"}
{"time":"2025-10-08T06:23:12.551361549Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).createHTTPHandlers","file":"/codigos/go_code/toq_server/internal/core/config/phase_06_handlers.go","line":88},"msg":"‚úÖ Handlers HTTP preparados para cria√ß√£o"}
{"time":"2025-10-08T06:23:12.551379139Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).setupRoutesAndMiddleware","file":"/codigos/go_code/toq_server/internal/core/config/phase_06_handlers.go","line":94},"msg":"Configurando rotas e middlewares"}
{"time":"2025-10-08T06:23:12.55139683Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).createHTTPHandlers","file":"/codigos/go_code/toq_server/internal/core/config/config_model.go","line":474},"msg":"Creating HTTP handlers via factory pattern"}
{"time":"2025-10-08T06:23:12.551438191Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/factory.(*ConcreteAdapterFactory).CreateHTTPHandlers","file":"/codigos/go_code/toq_server/internal/core/factory/concrete_adapter_factory.go","line":223},"msg":"Creating HTTP handlers"}
{"time":"2025-10-08T06:23:12.551469482Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/factory.(*ConcreteAdapterFactory).CreateHTTPHandlers","file":"/codigos/go_code/toq_server/internal/core/factory/concrete_adapter_factory.go","line":258},"msg":"Successfully created all HTTP handlers"}
{"time":"2025-10-08T06:23:12.551496313Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).createHTTPHandlers","file":"/codigos/go_code/toq_server/internal/core/config/config_model.go","line":499},"msg":"‚úÖ HTTP handlers created successfully via factory"}
{"time":"2025-10-08T06:23:12.552266546Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).SetupHTTPHandlersAndRoutes","file":"/codigos/go_code/toq_server/internal/core/config/config_model.go","line":469},"msg":"HTTP handlers and routes configured successfully"}
{"time":"2025-10-08T06:23:12.552362609Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).setupRoutesAndMiddleware","file":"/codigos/go_code/toq_server/internal/core/config/phase_06_handlers.go","line":99},"msg":"‚úÖ Rotas e middlewares configurados"}
{"time":"2025-10-08T06:23:12.55238768Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).setupHealthChecks","file":"/codigos/go_code/toq_server/internal/core/config/phase_06_handlers.go","line":105},"msg":"Configurando health checks (liveness/readiness)"}
{"time":"2025-10-08T06:23:12.552406921Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).setupHealthChecks","file":"/codigos/go_code/toq_server/internal/core/config/phase_06_handlers.go","line":110},"msg":"‚úÖ Health checks configurados"}
{"time":"2025-10-08T06:23:12.552427611Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase06_ConfigureHandlers","file":"/codigos/go_code/toq_server/internal/core/config/phase_06_handlers.go","line":62},"msg":"‚úÖ Handlers e rotas configurados com sucesso"}
{"time":"2025-10-08T06:23:12.552509754Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).logPhaseEnd","file":"/codigos/go_code/toq_server/internal/core/config/bootstrap.go","line":96},"msg":"‚úÖ Fase conclu√≠da","phase":"Phase06_ConfigureHandlers","component":"bootstrap","duration":"1.425114ms"}
{"time":"2025-10-08T06:23:12.552587816Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).logPhaseStart","file":"/codigos/go_code/toq_server/internal/core/config/bootstrap.go","line":88},"msg":"‚ñ∂Ô∏è Executando fase","phase":"Phase07_StartBackgroundWorkers","component":"bootstrap","timestamp":"2025-10-08T06:23:12Z"}
{"time":"2025-10-08T06:23:12.552673409Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase07_StartBackgroundWorkers","file":"/codigos/go_code/toq_server/internal/core/config/phase_07_workers.go","line":12},"msg":"üéØ FASE 7: Inicializa√ß√£o de Background Workers"}
{"time":"2025-10-08T06:23:12.552742171Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase07_StartBackgroundWorkers","file":"/codigos/go_code/toq_server/internal/core/config/phase_07_workers.go","line":13},"msg":"Configurando workers em background"}
{"time":"2025-10-08T06:23:12.552763592Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).initializeSystemGoroutines","file":"/codigos/go_code/toq_server/internal/core/config/phase_07_workers.go","line":36},"msg":"Inicializando goroutines do sistema"}
{"time":"2025-10-08T06:23:12.552814023Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).InitializeGoRoutines","file":"/codigos/go_code/toq_server/internal/core/config/config_model.go","line":236},"msg":"Activity tracker batch worker started"}
{"time":"2025-10-08T06:23:12.552900356Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/go_routines.(*ActivityTracker).StartBatchWorker","file":"/codigos/go_code/toq_server/internal/core/go_routines/activity_tracker.go","line":56},"msg":"Activity batch worker started","interval":30000000000}
{"time":"2025-10-08T06:23:12.553054701Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).InitializeGoRoutines","file":"/codigos/go_code/toq_server/internal/core/config/config_model.go","line":248},"msg":"Temp block cleaner worker started"}
{"time":"2025-10-08T06:23:12.553096262Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).InitializeGoRoutines","file":"/codigos/go_code/toq_server/internal/core/config/config_model.go","line":262},"msg":"Session cleaner worker started","interval_seconds":300}
{"time":"2025-10-08T06:23:12.553133693Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).InitializeGoRoutines","file":"/codigos/go_code/toq_server/internal/core/config/config_model.go","line":279},"msg":"Validation cleaner worker started","interval_seconds":300}
{"time":"2025-10-08T06:23:12.553168054Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).initializeSystemGoroutines","file":"/codigos/go_code/toq_server/internal/core/config/phase_07_workers.go","line":41},"msg":"‚úÖ Background workers inicializados"}
{"time":"2025-10-08T06:23:12.553188335Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).linkActivityTrackerToUserService","file":"/codigos/go_code/toq_server/internal/core/config/phase_07_workers.go","line":47},"msg":"Verificando e conectando activity tracker ao user service"}
{"time":"2025-10-08T06:23:12.553211166Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).SetActivityTrackerUserService","file":"/codigos/go_code/toq_server/internal/core/config/config_model.go","line":289},"msg":"Activity tracker connected to user service"}
{"time":"2025-10-08T06:23:12.553258187Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).linkActivityTrackerToUserService","file":"/codigos/go_code/toq_server/internal/core/config/phase_07_workers.go","line":57},"msg":"‚úÖ Activity tracker conectado ao user service"}
{"time":"2025-10-08T06:23:12.553280538Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).verifyDatabaseSchema","file":"/codigos/go_code/toq_server/internal/core/config/phase_07_workers.go","line":63},"msg":"Verificando schema do banco de dados"}
{"time":"2025-10-08T06:23:12.553390681Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/go_routines.ValidationCleaner","file":"/codigos/go_code/toq_server/internal/core/go_routines/validation_cleaner_worker.go","line":14},"msg":"validation cleaner worker started","interval":300000000000}
{"time":"2025-10-08T06:23:12.55399596Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/go_routines.(*TempBlockCleanerWorker).Start","file":"/codigos/go_code/toq_server/internal/core/go_routines/temp_block_cleaner_worker.go","line":34},"msg":"TempBlockCleanerWorker started"}
{"time":"2025-10-08T06:23:12.554087003Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/go_routines.(*TempBlockCleanerWorker).processExpiredBlocks","file":"/codigos/go_code/toq_server/internal/core/go_routines/temp_block_cleaner_worker.go","line":68},"msg":"Processing expired temporary blocks"}
{"time":"2025-10-08T06:23:12.554199976Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/service/permission_service.(*permissionServiceImpl).GetExpiredTempBlockedUsers","file":"/codigos/go_code/toq_server/internal/core/service/permission_service/user_blocking.go","line":132},"msg":"permission.user.temp_block.get_expired.start"}
{"time":"2025-10-08T06:23:12.554604929Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/go_routines.SessionCleaner","file":"/codigos/go_code/toq_server/internal/core/go_routines/session_cleaner_worker.go","line":15},"msg":"session cleaner routine started"}
{"time":"2025-10-08T06:23:12.555240278Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*config).VerifyDatabase","file":"/codigos/go_code/toq_server/internal/core/config/config_model.go","line":389},"msg":"Database connection verified successfully"}
{"time":"2025-10-08T06:23:12.55530041Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).verifyDatabaseSchema","file":"/codigos/go_code/toq_server/internal/core/config/phase_07_workers.go","line":68},"msg":"‚úÖ Schema do banco de dados verificado"}
{"time":"2025-10-08T06:23:12.555323691Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase07_StartBackgroundWorkers","file":"/codigos/go_code/toq_server/internal/core/config/phase_07_workers.go","line":30},"msg":"‚úÖ Background workers inicializados com sucesso"}
{"time":"2025-10-08T06:23:12.555391073Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).logPhaseEnd","file":"/codigos/go_code/toq_server/internal/core/config/bootstrap.go","line":96},"msg":"‚úÖ Fase conclu√≠da","phase":"Phase07_StartBackgroundWorkers","component":"bootstrap","duration":"2.803687ms"}
{"time":"2025-10-08T06:23:12.555464435Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).logPhaseStart","file":"/codigos/go_code/toq_server/internal/core/config/bootstrap.go","line":88},"msg":"‚ñ∂Ô∏è Executando fase","phase":"Phase08_StartServer","component":"bootstrap","timestamp":"2025-10-08T06:23:12Z"}
{"time":"2025-10-08T06:23:12.555524717Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase08_StartServer","file":"/codigos/go_code/toq_server/internal/core/config/phase_08_startup.go","line":18},"msg":"üéØ FASE 8: Inicializa√ß√£o Final e Runtime"}
{"time":"2025-10-08T06:23:12.555565178Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase08_StartServer","file":"/codigos/go_code/toq_server/internal/core/config/phase_08_startup.go","line":19},"msg":"Preparando servidor para aceitar conex√µes"}
{"time":"2025-10-08T06:23:12.555586119Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).markServerReady","file":"/codigos/go_code/toq_server/internal/core/config/phase_08_startup.go","line":42},"msg":"Marcando servidor como pronto para tr√°fego"}
{"time":"2025-10-08T06:23:12.555605599Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).markServerReady","file":"/codigos/go_code/toq_server/internal/core/config/phase_08_startup.go","line":47},"msg":"‚úÖ Servidor marcado como ready para receber tr√°fego"}
{"time":"2025-10-08T06:23:12.555652281Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).startHTTPServer","file":"/codigos/go_code/toq_server/internal/core/config/phase_08_startup.go","line":53},"msg":"Iniciando servidor HTTP"}
{"time":"2025-10-08T06:23:12.555694412Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).startHTTPServer.func1","file":"/codigos/go_code/toq_server/internal/core/config/phase_08_startup.go","line":71},"msg":"üöÄ Iniciando servidor HTTP na porta configurada"}
{"time":"2025-10-08T06:23:12.560303574Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/adapter/right/mysql/permission.(*PermissionAdapter).GetExpiredTempBlockedUsers","file":"/codigos/go_code/toq_server/internal/adapter/right/mysql/permission/user_blocking.go","line":103},"msg":"Found expired temp blocked users","count":0}
{"time":"2025-10-08T06:23:12.560941274Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/go_routines.(*TempBlockCleanerWorker).processExpiredBlocks","file":"/codigos/go_code/toq_server/internal/core/go_routines/temp_block_cleaner_worker.go","line":77},"msg":"No expired temporary blocks found"}
{"time":"2025-10-08T06:23:12.656354728Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).startHTTPServer","file":"/codigos/go_code/toq_server/internal/core/config/phase_08_startup.go","line":96},"msg":"‚úÖ Servidor HTTP iniciado com sucesso"}
{"time":"2025-10-08T06:23:12.656577655Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).startHealthMonitoring","file":"/codigos/go_code/toq_server/internal/core/config/phase_08_startup.go","line":102},"msg":"Iniciando monitoramento de sa√∫de em runtime"}
{"time":"2025-10-08T06:23:12.656621556Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).startHealthMonitoring","file":"/codigos/go_code/toq_server/internal/core/config/phase_08_startup.go","line":127},"msg":"‚úÖ Monitoramento de sa√∫de em runtime iniciado"}
{"time":"2025-10-08T06:23:12.656644307Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Phase08_StartServer","file":"/codigos/go_code/toq_server/internal/core/config/phase_08_startup.go","line":34},"msg":"üåü TOQ Server pronto para servir","uptime":137248465}
{"time":"2025-10-08T06:23:12.656689788Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).logPhaseEnd","file":"/codigos/go_code/toq_server/internal/core/config/bootstrap.go","line":96},"msg":"‚úÖ Fase conclu√≠da","phase":"Phase08_StartServer","component":"bootstrap","duration":"101.224753ms"}
{"time":"2025-10-08T06:23:12.6567553Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/config.(*Bootstrap).Bootstrap","file":"/codigos/go_code/toq_server/internal/core/config/bootstrap.go","line":137},"msg":"üéâ TOQ Server inicializado com sucesso","component":"bootstrap","total_time":"137.358498ms"}
{"time":"2025-10-08T06:23:42.553489259Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/go_routines.(*ActivityTracker).flushActivitiesToDB","file":"/codigos/go_code/toq_server/internal/core/go_routines/activity_tracker.go","line":79},"msg":"No active users to process"}
{"time":"2025-10-08T06:24:12.554171126Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/go_routines.(*ActivityTracker).flushActivitiesToDB","file":"/codigos/go_code/toq_server/internal/core/go_routines/activity_tracker.go","line":79},"msg":"No active users to process"}
{"time":"2025-10-08T06:24:42.554204524Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/go_routines.(*ActivityTracker).flushActivitiesToDB","file":"/codigos/go_code/toq_server/internal/core/go_routines/activity_tracker.go","line":79},"msg":"No active users to process"}
{"time":"2025-10-08T06:24:55.3935688Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/adapter/left/http/middlewares.RequestIDMiddleware.func1","file":"/codigos/go_code/toq_server/internal/adapter/left/http/middlewares/request_id_middleware.go","line":43},"msg":"Request ID generated","request_id":"cba98586-9f9f-4093-9947-2d555189aeaf","path":"/api/v2/auth/signin"}
{"time":"2025-10-08T06:24:55.39420035Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/service/user_service.(*userService).SignInWithContext","file":"/codigos/go_code/toq_server/internal/core/service/user_service/signin.go","line":45},"msg":"auth.signin_with_context.debug","has_national_id":true,"has_device_token":true,"ip":"93.36.218.83","user_agent":"PostmanRuntime/7.48.0","ctx_device_id":"b55201f1-c2c5-4289-8f03-a7278a1b319d"}
{"time":"2025-10-08T06:24:55.565513155Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/service/user_service.(*userService).signIn","file":"/codigos/go_code/toq_server/internal/core/service/user_service/signin.go","line":169},"msg":"auth.signin.device_token.add_for_device","device_id":"b55201f1-c2c5-4289-8f03-a7278a1b319d","user_id":1}
{"time":"2025-10-08T06:24:55.569471717Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/service/user_service.(*userService).signIn","file":"/codigos/go_code/toq_server/internal/core/service/user_service/signin.go","line":188},"msg":"auth.signin.success","security":true,"user_id":1}
{"time":"2025-10-08T06:24:55.569800287Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/service/global_service.(*globalService).StartSessionEventSubscriber.func2","file":"/codigos/go_code/toq_server/internal/core/service/global_service/session_notification_subscriber.go","line":32},"msg":"session.event.received","type":"session.created","user_id":1,"session_id":67,"device_id":"b55201f1-c2c5-4289-8f03-a7278a1b319d"}
{"time":"2025-10-08T06:24:55.581285192Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/adapter/left/http/middlewares.StructuredLoggingMiddleware.func1","file":"/codigos/go_code/toq_server/internal/adapter/left/http/middlewares/structured_logging_middleware.go","line":156},"msg":"HTTP Request","request_id":"cba98586-9f9f-4093-9947-2d555189aeaf","method":"POST","path":"/api/v2/auth/signin","status":200,"duration":187520046,"size":651,"client_ip":"93.36.218.83","user_agent":"PostmanRuntime/7.48.0","trace_id":"4e6a1a4e53024b656b2efaaaf95707dd","span_id":"e58425af18cbc833"}
{"time":"2025-10-08T06:25:05.119761258Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/adapter/left/http/middlewares.RequestIDMiddleware.func1","file":"/codigos/go_code/toq_server/internal/adapter/left/http/middlewares/request_id_middleware.go","line":43},"msg":"Request ID generated","request_id":"dee73429-075e-49b3-b2ad-c3c4ce389d31","path":"/api/v2/admin/user/approve"}
{"time":"2025-10-08T06:25:05.120651295Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/service/permission_service.(*permissionServiceImpl).HasHTTPPermission","file":"/codigos/go_code/toq_server/internal/core/service/permission_service/has_http_permission.go","line":26},"msg":"permission.http.check.start","user_id":1,"method":"POST","path":"/api/v2/admin/user/approve"}
{"time":"2025-10-08T06:25:05.123570346Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/service/permission_service.(*permissionServiceImpl).HasPermission","file":"/codigos/go_code/toq_server/internal/core/service/permission_service/has_permission.go","line":46},"msg":"permission.check.start","user_id":1,"resource":"http","action":"POST:/api/v2/admin/user/approve"}
{"time":"2025-10-08T06:25:05.124179805Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/service/permission_service.(*permissionServiceImpl).getUserPermissionsFromCache","file":"/codigos/go_code/toq_server/internal/core/service/permission_service/has_permission.go","line":177},"msg":"Cache miss for user permissions","userID":1,"error":"cache miss - user permissions not found for user 1"}
{"time":"2025-10-08T06:25:05.124266737Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/service/permission_service.(*permissionServiceImpl).getUserPermissionsWithCache","file":"/codigos/go_code/toq_server/internal/core/service/permission_service/has_permission.go","line":128},"msg":"Cache miss for user permissions","userID":1,"error":"cache miss - cache miss - user permissions not found for user 1"}
{"time":"2025-10-08T06:25:05.12921461Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/cache.(*RedisCache).SetUserPermissions","file":"/codigos/go_code/toq_server/internal/core/cache/redis_cache.go","line":331},"msg":"User permissions cached","userID":1,"ttl":900000000000,"dataSize":5252}
{"time":"2025-10-08T06:25:05.129312713Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/service/permission_service.(*permissionServiceImpl).setUserPermissionsInCache","file":"/codigos/go_code/toq_server/internal/core/service/permission_service/has_permission.go","line":261},"msg":"User permissions cached successfully","userID":1,"count":37,"dataSize":5252}
{"time":"2025-10-08T06:25:05.129377675Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/service/permission_service.(*permissionServiceImpl).getUserPermissionsWithCache","file":"/codigos/go_code/toq_server/internal/core/service/permission_service/has_permission.go","line":154},"msg":"Permissions loaded from database","userID":1,"count":37}
{"time":"2025-10-08T06:25:05.129426227Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/service/permission_service.(*permissionServiceImpl).HasPermission.func1","file":"/codigos/go_code/toq_server/internal/core/service/permission_service/has_permission.go","line":78},"msg":"permission.check.allowed","user_id":1,"resource":"http","action":"POST:/api/v2/admin/user/approve","permission_id":50}
{"time":"2025-10-08T06:25:05.129514219Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/adapter/left/http/middlewares.PermissionMiddleware.func1","file":"/codigos/go_code/toq_server/internal/adapter/left/http/middlewares/permission_middleware.go","line":71},"msg":"Permission granted","userID":1,"method":"POST","path":"/api/v2/admin/user/approve"}
{"time":"2025-10-08T06:25:05.129676324Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/service/permission_service.(*permissionServiceImpl).HasPermission","file":"/codigos/go_code/toq_server/internal/core/service/permission_service/has_permission.go","line":46},"msg":"permission.check.start","user_id":1,"resource":"admin","action":"access"}
{"time":"2025-10-08T06:25:05.130115208Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/cache.(*RedisCache).GetUserPermissions","file":"/codigos/go_code/toq_server/internal/core/cache/redis_cache.go","line":318},"msg":"User permissions cache hit","userID":1,"dataSize":5252}
{"time":"2025-10-08T06:25:05.130699016Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/service/permission_service.(*permissionServiceImpl).getUserPermissionsFromCache","file":"/codigos/go_code/toq_server/internal/core/service/permission_service/has_permission.go","line":207},"msg":"User permissions cache hit","userID":1,"count":37,"cached_at":"2025-10-08T06:25:05.128475077Z"}
{"time":"2025-10-08T06:25:05.130752778Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/service/permission_service.(*permissionServiceImpl).getUserPermissionsWithCache","file":"/codigos/go_code/toq_server/internal/core/service/permission_service/has_permission.go","line":124},"msg":"Permissions loaded from cache","userID":1,"count":37}
{"time":"2025-10-08T06:25:05.131347176Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/service/permission_service.(*permissionServiceImpl).HasPermission.func1","file":"/codigos/go_code/toq_server/internal/core/service/permission_service/has_permission.go","line":78},"msg":"permission.check.allowed","user_id":1,"resource":"admin","action":"access","permission_id":1}
{"time":"2025-10-08T06:25:05.131677346Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/adapter/left/http/middlewares.RequirePermission.func1","file":"/codigos/go_code/toq_server/internal/adapter/left/http/middlewares/permission_middleware.go","line":115},"msg":"Specific permission granted","userID":1,"resource":"admin","action":"access"}
{"time":"2025-10-08T06:25:05.132171442Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/adapter/left/http/middlewares.StructuredLoggingMiddleware.func1","file":"/codigos/go_code/toq_server/internal/adapter/left/http/middlewares/structured_logging_middleware.go","line":156},"msg":"HTTP Response","request_id":"dee73429-075e-49b3-b2ad-c3c4ce389d31","method":"POST","path":"/api/v2/admin/user/approve","status":400,"duration":12297600,"size":269,"client_ip":"93.36.218.83","user_agent":"PostmanRuntime/7.48.0","trace_id":"8138d67c830f7fa0a661963a27052e8f","span_id":"130f7893fa2acc96","user_id":1,"user_role_id":1}
{"time":"2025-10-08T06:25:12.553758221Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/go_routines.(*ActivityTracker).flushActivitiesToDB","file":"/codigos/go_code/toq_server/internal/core/go_routines/activity_tracker.go","line":83},"msg":"Processing active users","count":1}
{"time":"2025-10-08T06:25:12.561928053Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/adapter/right/mysql/user.(*UserAdapter).BatchUpdateUserLastActivity","file":"/codigos/go_code/toq_server/internal/adapter/right/mysql/user/batch_update_user_last_activity.go","line":70},"msg":"Batch updated user activities","affected_rows":1,"batch_size":1}
{"time":"2025-10-08T06:25:12.562067467Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/go_routines.(*ActivityTracker).processBatch","file":"/codigos/go_code/toq_server/internal/core/go_routines/activity_tracker.go","line":156},"msg":"Successfully updated user activities","count":1}
{"time":"2025-10-08T06:25:35.350537011Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/adapter/left/http/middlewares.RequestIDMiddleware.func1","file":"/codigos/go_code/toq_server/internal/adapter/left/http/middlewares/request_id_middleware.go","line":43},"msg":"Request ID generated","request_id":"319976db-79aa-4e30-860d-67ab2ba5c21a","path":"/docs/swagger.json"}
{"time":"2025-10-08T06:25:35.350960754Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/adapter/left/http/middlewares.StructuredLoggingMiddleware.func1","file":"/codigos/go_code/toq_server/internal/adapter/left/http/middlewares/structured_logging_middleware.go","line":156},"msg":"HTTP Request","request_id":"319976db-79aa-4e30-860d-67ab2ba5c21a","method":"GET","path":"/docs/swagger.json","status":304,"duration":279809,"size":-1,"client_ip":"93.36.218.83","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 Edg/141.0.0.0","trace_id":"3cbf2fa30c72961d7acf097aaaf8f73f","span_id":"4ad06ccdaaeb0a73"}
{"time":"2025-10-08T06:25:35.880882706Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/adapter/left/http/middlewares.RequestIDMiddleware.func1","file":"/codigos/go_code/toq_server/internal/adapter/left/http/middlewares/request_id_middleware.go","line":43},"msg":"Request ID generated","request_id":"5de72c2c-1b9e-440e-b098-6d1d32246b2d","path":"/docs/swagger.json"}
{"time":"2025-10-08T06:25:35.881787803Z","level":"INFO","source":{"function":"github.com/giulio-alfieri/toq_server/internal/adapter/left/http/middlewares.StructuredLoggingMiddleware.func1","file":"/codigos/go_code/toq_server/internal/adapter/left/http/middlewares/structured_logging_middleware.go","line":156},"msg":"HTTP Request","request_id":"5de72c2c-1b9e-440e-b098-6d1d32246b2d","method":"GET","path":"/docs/swagger.json","status":200,"duration":739703,"size":128075,"client_ip":"44.196.175.104","user_agent":"swagger-validator","trace_id":"c8f8aa1a068587dd9115b654119f0165","span_id":"1c360dfa56bf1468"}
{"time":"2025-10-08T06:25:42.554002622Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/go_routines.(*ActivityTracker).flushActivitiesToDB","file":"/codigos/go_code/toq_server/internal/core/go_routines/activity_tracker.go","line":83},"msg":"Processing active users","count":1}
{"time":"2025-10-08T06:25:42.55586932Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/adapter/right/mysql/user.(*UserAdapter).BatchUpdateUserLastActivity","file":"/codigos/go_code/toq_server/internal/adapter/right/mysql/user/batch_update_user_last_activity.go","line":70},"msg":"Batch updated user activities","affected_rows":0,"batch_size":1}
{"time":"2025-10-08T06:25:42.556077586Z","level":"DEBUG","source":{"function":"github.com/giulio-alfieri/toq_server/internal/core/go_routines.(*ActivityTracker).processBatch","file":"/codigos/go_code/toq_server/internal/core/go_routines/activity_tracker.go","line":156},"msg":"Successfully updated user activities","count":1}
