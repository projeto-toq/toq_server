{
    "Version": "2012-10-17",
    "Statement": [
        {
            "Sid": "S3MediaBucketAccess",
            "Effect": "Allow",
            "Action": [
                "s3:PutObject",
                "s3:GetObject",
                "s3:HeadObject",
                "s3:DeleteObject",
                "s3:GetObjectAttributes",
                "s3:ListBucket"
            ],
            "Resource": [
                "arn:aws:s3:::toq-listing-medias",
                "arn:aws:s3:::toq-listing-medias/*"
            ]
        },
        {
            "Sid": "AllowUserMediaBucket",
            "Effect": "Allow",
            "Action": [
                "s3:PutObject",
                "s3:GetObject",
                "s3:DeleteObject",
                "s3:ListBucket",
                "s3:PutObjectAcl",
                "s3:GetObjectAcl"
            ],
            "Resource": [
                "arn:aws:s3:::toq-user-medias",
                "arn:aws:s3:::toq-user-medias/*"
            ]
        },
        {
            "Sid": "SQSQueueAccess",
            "Effect": "Allow",
            "Action": [
                "sqs:SendMessage",
                "sqs:GetQueueAttributes",
                "sqs:GetQueueUrl"
            ],
            "Resource": [
                "arn:aws:sqs:us-east-1:058264253741:listing-media-processing-staging",
                "arn:aws:sqs:us-east-1:058264253741:listing-media-processing-dlq-staging"
            ]
        },
        {
            "Sid": "KMSKeyAccess",
            "Effect": "Allow",
            "Action": [
                "kms:Decrypt",
                "kms:Encrypt",
                "kms:GenerateDataKey",
                "kms:DescribeKey"
            ],
            "Resource": "arn:aws:kms:us-east-1:058264253741:key/2fd6d9e5-dc43-4275-ba77-79c99cad509c"
        },
        {
            "Sid": "StepFunctionsAccess",
            "Effect": "Allow",
            "Action": [
                "states:StartExecution",
                "states:DescribeExecution",
                "states:GetExecutionHistory"
            ],
            "Resource": "arn:aws:states:us-east-1:058264253741:stateMachine:listing-media-processing-sm-staging"
        }
    ]
}