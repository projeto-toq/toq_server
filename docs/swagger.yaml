basePath: /api/v2
definitions:
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.AdminApproveUserRequest:
    properties:
      id:
        minimum: 1
        type: integer
      status:
        type: integer
    required:
    - id
    - status
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.AdminApproveUserResponse:
    properties:
      message:
        type: string
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.AdminCreciDocumentURLs:
    properties:
      back:
        type: string
      front:
        type: string
      selfie:
        type: string
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.AdminCreciDownloadURLRequest:
    properties:
      id:
        minimum: 1
        type: integer
    required:
    - id
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.AdminCreciDownloadURLResponse:
    properties:
      expiresInMinutes:
        type: integer
      urls:
        $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.AdminCreciDocumentURLs'
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.AdminGetPendingRealtorsResponse:
    properties:
      realtors:
        items:
          $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.AdminPendingRealtor'
        type: array
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.AdminGetUserRequest:
    properties:
      id:
        minimum: 1
        type: integer
    required:
    - id
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.AdminGetUserResponse:
    properties:
      user:
        $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.UserResponse'
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.AdminPendingRealtor:
    properties:
      creciNumber:
        type: string
      creciState:
        type: string
      creciValidity:
        type: string
      fullName:
        type: string
      id:
        type: integer
      nationalID:
        type: string
      nickName:
        type: string
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.BaseFeature:
    properties:
      category:
        type: string
      description:
        type: string
      id:
        type: integer
      name:
        type: string
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.CEPValidationResponse:
    properties:
      city:
        example: São Paulo
        type: string
      complement:
        example: Apto 101
        type: string
      neighborhood:
        example: Bela Vista
        type: string
      postalCode:
        example: "12345678"
        type: string
      state:
        example: SP
        type: string
      street:
        example: Av. Paulista
        type: string
      valid:
        example: true
        type: boolean
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ConfirmEmailChangeRequest:
    properties:
      code:
        type: string
    required:
    - code
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ConfirmEmailChangeResponse:
    properties:
      message:
        type: string
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ConfirmPasswordChangeRequest:
    properties:
      code:
        type: string
      nationalID:
        type: string
      newPassword:
        minLength: 6
        type: string
    required:
    - code
    - nationalID
    - newPassword
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ConfirmPasswordChangeResponse:
    properties:
      message:
        type: string
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ConfirmPhoneChangeRequest:
    properties:
      code:
        type: string
    required:
    - code
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ConfirmPhoneChangeResponse:
    properties:
      message:
        type: string
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.CreateAgencyRequest:
    properties:
      agency:
        $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.UserCreateRequest'
      deviceToken:
        type: string
    required:
    - agency
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.CreateAgencyResponse:
    properties:
      tokens:
        $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.TokensResponse'
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.CreateOwnerRequest:
    properties:
      deviceToken:
        type: string
      owner:
        $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.UserCreateRequest'
    required:
    - owner
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.CreateOwnerResponse:
    properties:
      tokens:
        $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.TokensResponse'
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.CreateRealtorRequest:
    properties:
      deviceToken:
        type: string
      realtor:
        $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.UserCreateRequest'
    required:
    - realtor
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.CreateRealtorResponse:
    properties:
      tokens:
        $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.TokensResponse'
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.DeleteAccountResponse:
    properties:
      message:
        type: string
      tokens:
        $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.TokensResponse'
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse:
    properties:
      code:
        type: integer
      details:
        type: object
      message:
        type: string
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.GetAllListingsResponse:
    properties:
      data:
        items:
          $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ListingResponse'
        type: array
      pagination:
        $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.PaginationResponse'
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.GetBaseFeaturesResponse:
    properties:
      features:
        items:
          $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.BaseFeature'
        type: array
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.GetCreciUploadURLRequest:
    properties:
      contentType:
        description: 'Ex: "image/jpeg"'
        type: string
      documentType:
        description: '"selfie.jpg", "front.jpg", "back.jpg"'
        type: string
    required:
    - contentType
    - documentType
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.GetCreciUploadURLResponse:
    properties:
      signedUrl:
        type: string
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.GetOptionsResponse:
    properties:
      propertyTypes:
        items:
          $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.PropertyTypeOption'
        type: array
      statuses:
        items:
          $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.StatusOption'
        type: array
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.GetPhotoDownloadURLRequest:
    properties:
      variant:
        enum:
        - original
        - small
        - medium
        - large
        type: string
    required:
    - variant
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.GetPhotoDownloadURLResponse:
    properties:
      signedUrl:
        type: string
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.GetPhotoUploadURLRequest:
    properties:
      contentType:
        type: string
      variant:
        enum:
        - original
        - small
        - medium
        - large
        type: string
    required:
    - contentType
    - variant
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.GetPhotoUploadURLResponse:
    properties:
      signedUrl:
        type: string
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.GetProfileResponse:
    properties:
      user:
        $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.UserResponse'
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ListingResponse:
    properties:
      complexId:
        type: string
      createdAt:
        type: string
      description:
        type: string
      id:
        type: integer
      number:
        type: string
      price:
        type: number
      propertyType:
        type: integer
      status:
        type: string
      title:
        type: string
      updatedAt:
        type: string
      userId:
        type: integer
      zipCode:
        type: string
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.PaginationResponse:
    properties:
      limit:
        type: integer
      page:
        type: integer
      total:
        type: integer
      totalPages:
        type: integer
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.PropertyTypeOption:
    properties:
      id:
        type: integer
      name:
        type: string
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.RefreshTokenRequest:
    properties:
      refreshToken:
        type: string
    required:
    - refreshToken
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.RefreshTokenResponse:
    properties:
      tokens:
        $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.TokensResponse'
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.RequestEmailChangeRequest:
    properties:
      newEmail:
        type: string
    required:
    - newEmail
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.RequestEmailChangeResponse:
    properties:
      message:
        type: string
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.RequestPasswordChangeRequest:
    properties:
      nationalID:
        type: string
    required:
    - nationalID
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.RequestPasswordChangeResponse:
    properties:
      message:
        type: string
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.RequestPhoneChangeRequest:
    properties:
      newPhoneNumber:
        example: "+5511999999999"
        type: string
    required:
    - newPhoneNumber
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.RequestPhoneChangeResponse:
    properties:
      message:
        type: string
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ResendEmailChangeCodeResponse:
    properties:
      message:
        type: string
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ResendPhoneChangeCodeResponse:
    properties:
      message:
        type: string
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.SignInRequest:
    properties:
      deviceToken:
        example: fcm_device_token
        type: string
      nationalID:
        example: "12345678901"
        type: string
      password:
        example: securePassword123
        type: string
    required:
    - nationalID
    - password
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.SignInResponse:
    properties:
      tokens:
        $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.TokensResponse'
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.SignOutRequest:
    properties:
      deviceToken:
        type: string
      refreshToken:
        type: string
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.SignOutResponse:
    properties:
      message:
        type: string
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.StartListingRequest:
    properties:
      number:
        type: string
      propertyType:
        type: integer
      zipCode:
        type: string
    required:
    - number
    - propertyType
    - zipCode
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.StartListingResponse:
    properties:
      id:
        type: integer
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.StatusOption:
    properties:
      id:
        type: string
      name:
        type: string
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.TokensResponse:
    properties:
      accessToken:
        type: string
      refreshToken:
        type: string
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.UpdateOptStatusRequest:
    properties:
      optIn:
        type: boolean
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.UpdateOptStatusResponse:
    properties:
      message:
        type: string
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.UpdateProfileRequest:
    properties:
      user:
        $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.UpdateUserRequest'
    required:
    - user
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.UpdateProfileResponse:
    properties:
      message:
        type: string
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.UpdateUserRequest:
    properties:
      bornAt:
        description: 'format: 2006-01-02'
        type: string
      city:
        type: string
      complement:
        type: string
      neighborhood:
        type: string
      nickName:
        maxLength: 50
        minLength: 2
        type: string
      number:
        type: string
      state:
        type: string
      street:
        type: string
      zipCode:
        type: string
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.UserCreateRequest:
    properties:
      bornAt:
        description: 'format: 2006-01-02'
        type: string
      city:
        type: string
      complement:
        type: string
      creciNumber:
        type: string
      creciState:
        type: string
      creciValidity:
        description: 'format: 2006-01-02'
        type: string
      email:
        type: string
      fullName:
        maxLength: 100
        minLength: 2
        type: string
      nationalID:
        type: string
      neighborhood:
        type: string
      nickName:
        maxLength: 50
        minLength: 3
        type: string
      number:
        type: string
      password:
        minLength: 8
        type: string
      phoneNumber:
        example: "+5511999999999"
        type: string
      state:
        type: string
      street:
        type: string
      zipCode:
        type: string
    required:
    - bornAt
    - email
    - nationalID
    - nickName
    - password
    - phoneNumber
    - zipCode
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.UserResponse:
    properties:
      activeRole:
        $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.UserRoleResponse'
      bornAt:
        type: string
      city:
        type: string
      complement:
        type: string
      creciNumber:
        type: string
      creciState:
        type: string
      creciValidity:
        type: string
      email:
        type: string
      fullName:
        type: string
      id:
        type: integer
      lastActivity:
        type: string
      nationalID:
        type: string
      neighborhood:
        type: string
      nickName:
        type: string
      number:
        type: string
      phoneNumber:
        type: string
      state:
        type: string
      street:
        type: string
      zipCode:
        type: string
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.UserRoleResponse:
    properties:
      active:
        type: boolean
      baseRoleId:
        type: integer
      id:
        type: integer
      role:
        type: string
      status:
        type: string
      statusReason:
        type: string
      userId:
        type: integer
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.UserStatusData:
    properties:
      status:
        example: 0
        type: integer
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.UserStatusResponse:
    properties:
      data:
        $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.UserStatusData'
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ValidateCEPRequest:
    properties:
      hmac:
        example: a1b2c3
        type: string
      postalCode:
        example: "12345678"
        type: string
      timestamp:
        example: 1712345678
        type: integer
    required:
    - hmac
    - postalCode
    - timestamp
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ValidateCNPJRequest:
    properties:
      hmac:
        example: a1b2c3
        type: string
      nationalID:
        example: "12345678000195"
        type: string
      timestamp:
        example: 1712345678
        type: integer
    required:
    - hmac
    - nationalID
    - timestamp
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ValidateCPFRequest:
    description: Assinatura da requisição deve ser calculada com METHOD|PATH|timestamp|payload_compacto_sem_campo_hmac
    properties:
      bornAt:
        example: "1990-01-01"
        type: string
      hmac:
        example: a1b2c3
        type: string
      nationalID:
        example: "12345678901"
        type: string
      timestamp:
        example: 1712345678
        type: integer
    required:
    - bornAt
    - hmac
    - nationalID
    - timestamp
    type: object
  github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ValidationResultResponse:
    properties:
      valid:
        example: true
        type: boolean
    type: object
externalDocs:
  description: OpenAPI
  url: https://swagger.io/resources/open-api/
host: api.gca.dev.br
info:
  contact:
    email: support@toq.com
    name: TOQ Development Team
    url: https://github.com/projeto-toq/toq_server
  description: TOQ Server - Real Estate HTTP API Server with hexagonal architecture.
    All phone numbers supplied to the API must be in E.164 format (e.g., +5511999999999).
  license:
    name: MIT
    url: https://github.com/projeto-toq/toq_server/blob/main/LICENSE
  termsOfService: http://swagger.io/terms/
  title: TOQ Server API
  version: "1.0"
paths:
  /admin/user:
    post:
      consumes:
      - application/json
      parameters:
      - description: User ID
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.AdminGetUserRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.AdminGetUserResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: Get full user by ID
      tags:
      - Admin
  /admin/user/approve:
    post:
      consumes:
      - application/json
      description: Status must be one of the allowed enum values. On success, sends
        FCM notification.
      parameters:
      - description: 'User ID and target status (enum: 0=active,10=refused_image,11=refused_document,12=refused_data)'
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.AdminApproveUserRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.AdminApproveUserResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties: true
            type: object
        "409":
          description: Conflict
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: Approve or refuse realtor status manually
      tags:
      - Admin
  /admin/user/creci-download-url:
    post:
      consumes:
      - application/json
      description: Returns signed URLs (selfie/front/back) for a realtor user, valid
        for a limited time
      parameters:
      - description: User ID
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.AdminCreciDownloadURLRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.AdminCreciDownloadURLResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "409":
          description: Conflict
          schema:
            additionalProperties: true
            type: object
        "422":
          description: Unprocessable Entity
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: Get signed download URLs for CRECI documents
      tags:
      - Admin
  /admin/user/pending:
    get:
      description: Returns id, nickname, fullName, nationalID, creciNumber, creciValidity,
        creciState
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.AdminGetPendingRealtorsResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: List realtors pending manual validation
      tags:
      - Admin
  /auth/agency:
    post:
      consumes:
      - application/json
      description: Create a new agency account with user information
      parameters:
      - description: Agency creation data (include optional deviceToken for push notifications)
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.CreateAgencyRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.CreateAgencyResponse'
        "400":
          description: Invalid request format
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "409":
          description: User already exists
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "422":
          description: Validation failed
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
      summary: Create agency account
      tags:
      - Authentication
  /auth/owner:
    post:
      consumes:
      - application/json
      description: Create a new owner account with user information. Address fields
        come from CEP lookup, except number, neighborhood and complement which honor
        the request payload.
      parameters:
      - description: Owner creation data (include optional deviceToken for push notifications)
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.CreateOwnerRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.CreateOwnerResponse'
        "400":
          description: Validation error (invalid input data)
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "409":
          description: User already exists
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "422":
          description: Validation failed (see details)
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
      summary: Create owner account
      tags:
      - Authentication
  /auth/password/confirm:
    post:
      consumes:
      - application/json
      description: Confirm password change using verification code
      parameters:
      - description: Password change confirmation data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ConfirmPasswordChangeRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ConfirmPasswordChangeResponse'
        "400":
          description: Invalid request format
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "409":
          description: Password change not pending
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "410":
          description: Verification code expired
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "422":
          description: Invalid verification code or password validation failed
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
      summary: Confirm password change
      tags:
      - Authentication
  /auth/password/request:
    post:
      consumes:
      - application/json
      description: Initiate password change process by sending verification code
      parameters:
      - description: Password change request data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.RequestPasswordChangeRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.RequestPasswordChangeResponse'
        "400":
          description: Invalid request format
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "429":
          description: Too many requests
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
      summary: Request password change
      tags:
      - Authentication
  /auth/realtor:
    post:
      consumes:
      - application/json
      description: Create a new realtor account with user and CRECI information. Address
        fields come from CEP lookup, except number, neighborhood and complement which
        honor the request payload.
      parameters:
      - description: Realtor creation data (include optional deviceToken for push
          notifications)
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.CreateRealtorRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.CreateRealtorResponse'
        "400":
          description: Validation error (invalid input data)
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "409":
          description: User already exists
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "422":
          description: Validation failed (see details)
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
      summary: Create realtor account
      tags:
      - Authentication
  /auth/refresh:
    post:
      consumes:
      - application/json
      description: Generate new access token using refresh token
      parameters:
      - description: Refresh token data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.RefreshTokenRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.RefreshTokenResponse'
        "400":
          description: Invalid request format
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "401":
          description: Invalid or expired refresh token
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
      summary: Refresh access token
      tags:
      - Authentication
  /auth/signin:
    post:
      consumes:
      - application/json
      description: Authenticate user with national ID and password. When sending a
        deviceToken, provide X-Device-Id (UUIDv4) for per-device associations.
      parameters:
      - description: Device ID (UUIDv4). Required when request contains deviceToken.
        in: header
        name: X-Device-Id
        type: string
      - description: Sign in credentials
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.SignInRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Successful authentication
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.SignInResponse'
        "400":
          description: Invalid request format or missing/invalid device ID when deviceToken
            provided
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "401":
          description: Invalid credentials
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "403":
          description: No active user roles
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "423":
          description: Account temporarily locked due to security measures
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "429":
          description: Too many attempts
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
      summary: User sign in
      tags:
      - Authentication
  /auth/validate/cep:
    post:
      consumes:
      - application/json
      description: Retrieves CEP information using the configured provider. Requires
        signed payload.
      parameters:
      - description: Signed CEP validation payload
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ValidateCEPRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.CEPValidationResponse'
        "400":
          description: Validation error
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "401":
          description: Invalid signature or expired request
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "422":
          description: Semantic validation error
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "429":
          description: Rate limited
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
      summary: Validate CEP
      tags:
      - Authentication
  /auth/validate/cnpj:
    post:
      consumes:
      - application/json
      description: Validates a CNPJ using Receita Federal integration. Requires signed
        payload.
      parameters:
      - description: Signed CNPJ validation payload
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ValidateCNPJRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ValidationResultResponse'
        "400":
          description: Validation error
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "401":
          description: Invalid signature or expired request
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "422":
          description: Semantic validation error
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "429":
          description: Rate limited
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
      summary: Validate CNPJ
      tags:
      - Authentication
  /auth/validate/cpf:
    post:
      consumes:
      - application/json
      description: Validates a CPF using Receita Federal integration. Requires signed
        payload.
      parameters:
      - description: Signed CPF validation payload
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ValidateCPFRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ValidationResultResponse'
        "400":
          description: Validation error
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "401":
          description: Invalid signature or expired request
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "422":
          description: Semantic validation error
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "429":
          description: Rate limited
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
      summary: Validate CPF
      tags:
      - Authentication
  /listings:
    get:
      consumes:
      - application/json
      description: Get all listings with optional filters for status, location, price
        range, etc.
      parameters:
      - description: 'Page number (default: 1)'
        in: query
        minimum: 1
        name: page
        type: integer
      - description: 'Items per page (default: 10)'
        in: query
        maximum: 100
        minimum: 1
        name: limit
        type: integer
      - description: Filter by listing status
        in: query
        name: status
        type: string
      - description: Filter by user ID
        in: query
        name: userId
        type: string
      - description: Filter by zip code
        in: query
        name: zipCode
        type: string
      - description: Minimum price filter
        in: query
        name: minPrice
        type: integer
      - description: Maximum price filter
        in: query
        name: maxPrice
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.GetAllListingsResponse'
        "400":
          description: Invalid request parameters
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "501":
          description: Service method not implemented
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get all listings with pagination and filters
      tags:
      - Listings
    post:
      consumes:
      - application/json
      description: Create a new listing with basic information (zip code, number,
        property type)
      parameters:
      - description: Listing creation data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.StartListingRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.StartListingResponse'
        "400":
          description: Invalid request format
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Start a new listing
      tags:
      - Listings
  /listings/features/base:
    get:
      consumes:
      - application/json
      description: Get all available base features that can be associated with listings
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.GetBaseFeaturesResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get base features
      tags:
      - Listings
  /listings/options:
    get:
      consumes:
      - application/json
      description: Get available property types and statuses for listings based on
        location
      parameters:
      - description: Zip code for location-based options
        in: query
        name: zipCode
        required: true
        type: string
      - description: Property number
        in: query
        name: number
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.GetOptionsResponse'
        "400":
          description: Missing required parameters
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get listing options
      tags:
      - Listings
  /realtor/creci/upload-url:
    post:
      consumes:
      - application/json
      description: Create a pre-signed URL to upload a CRECI document (selfie/front/back)
      parameters:
      - description: Upload request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.GetCreciUploadURLRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.GetCreciUploadURLResponse'
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "422":
          description: Validation error (documentType or contentType)
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Create pre-signed upload URL for CRECI documents
      tags:
      - Realtor
  /realtor/creci/verify:
    post:
      consumes:
      - application/json
      description: Check if selfie.jpg, front.jpg and back.jpg exist in the user's
        S3 folder; if all exist, set status to PendingManual
      produces:
      - application/json
      responses:
        "200":
          description: verification accepted
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "422":
          description: Missing required documents
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Verify CRECI documents presence
      tags:
      - Realtor
  /user/account:
    delete:
      consumes:
      - application/json
      description: Permanently delete the current user's account. Revokes all sessions,
        removes device tokens, masks PII, and detaches roles.
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.DeleteAccountResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Delete account
      tags:
      - User
  /user/email/confirm:
    post:
      consumes:
      - application/json
      description: Confirm email change by providing the received validation code
      parameters:
      - description: Confirmation code
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ConfirmEmailChangeRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Confirmation message
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ConfirmEmailChangeResponse'
        "400":
          description: Invalid request format or code
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "409":
          description: Email change not pending or already in use
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "410":
          description: Code expired
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "422":
          description: Invalid code
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
      summary: Confirm email change
      tags:
      - User
  /user/email/request:
    post:
      consumes:
      - application/json
      description: Start email change by generating a validation code for the new
        email. If a pending change exists (valid or expired), a new code and expiration
        are generated and persisted, then a notification is sent.
      parameters:
      - description: New email
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.RequestEmailChangeRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Email change request sent
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.RequestEmailChangeResponse'
        "400":
          description: Invalid request format or email
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "409":
          description: Email already in use
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
      summary: Request email change
      tags:
      - User
  /user/email/resend:
    post:
      description: Resend the existing (still valid) validation code to the pending
        new email address. If there is no pending change, returns 409. If the code
        is expired, returns 410.
      produces:
      - application/json
      responses:
        "200":
          description: Confirmation message
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ResendEmailChangeCodeResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "409":
          description: Email change not pending or email already in use
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "410":
          description: Code expired
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
      summary: Resend email change code
      tags:
      - User
  /user/opt-status:
    put:
      consumes:
      - application/json
      description: Update user's consent to receive notifications (opt-in/opt-out)
      parameters:
      - description: Opt-in request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.UpdateOptStatusRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.UpdateOptStatusResponse'
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Update opt-in status
      tags:
      - User
  /user/phone/confirm:
    post:
      consumes:
      - application/json
      description: Confirm a phone number change using the verification code sent
        to the new phone
      parameters:
      - description: Phone change confirmation data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ConfirmPhoneChangeRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ConfirmPhoneChangeResponse'
        "400":
          description: Invalid request format or code
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "409":
          description: Phone change not pending or phone already in use
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "410":
          description: Phone change code expired
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "422":
          description: Invalid phone change code
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Confirm phone number change
      tags:
      - User
  /user/phone/request:
    post:
      consumes:
      - application/json
      description: Start a phone change by generating a validation code for the new
        phone. If a pending change exists (valid or expired), a new code and expiration
        are generated and persisted, then a notification is sent.
      parameters:
      - description: New phone number (E.164)
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.RequestPhoneChangeRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Phone change request sent
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.RequestPhoneChangeResponse'
        "400":
          description: Invalid request format or phone
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "409":
          description: Phone already in use
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Request phone number change
      tags:
      - User
  /user/phone/resend:
    post:
      description: Resend the existing (still valid) validation code to the pending
        new phone number. If there is no pending change, returns 409. If the code
        is expired, returns 410.
      produces:
      - application/json
      responses:
        "200":
          description: Confirmation message
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ResendPhoneChangeCodeResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "409":
          description: Phone change not pending or phone already in use
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "410":
          description: Code expired
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Resend phone change code
      tags:
      - User
  /user/photo/download-url:
    post:
      consumes:
      - application/json
      description: Create a pre-signed URL to download a specific profile photo variant
        from storage
      parameters:
      - description: Download request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.GetPhotoDownloadURLRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.GetPhotoDownloadURLResponse'
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "422":
          description: Validation error (variant)
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Create pre-signed download URL for profile photo
      tags:
      - User
  /user/photo/upload-url:
    post:
      consumes:
      - application/json
      description: Create a pre-signed URL to upload a profile photo to storage
      parameters:
      - description: Upload request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.GetPhotoUploadURLRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.GetPhotoUploadURLResponse'
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "422":
          description: Validation error (photo type or content type)
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Create pre-signed upload URL for profile photo
      tags:
      - User
  /user/profile:
    get:
      consumes:
      - application/json
      description: Get the current authenticated user's profile information
      produces:
      - application/json
      responses:
        "200":
          description: Profile data with user information
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.GetProfileResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "404":
          description: User not found
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get user profile
      tags:
      - User
    put:
      consumes:
      - application/json
      description: Update profile fields like nickname, born_at, and address. Email/phone/password
        have dedicated flows.
      parameters:
      - description: Update profile payload
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.UpdateProfileRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Profile updated
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.UpdateProfileResponse'
        "400":
          description: Invalid request format
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "422":
          description: Validation error
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Update user profile (non-sensitive fields)
      tags:
      - User
  /user/signout:
    post:
      consumes:
      - application/json
      description: Sign out the current user. If refreshToken or deviceToken is provided,
        revokes a single session/device; otherwise, global signout. When targeting
        a device without deviceToken, send X-Device-Id.
      parameters:
      - description: Device ID (UUIDv4) for targeted signout when deviceToken isn't
          provided
        in: header
        name: X-Device-Id
        type: string
      - description: Sign out request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.SignOutRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Sign out confirmation message
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.SignOutResponse'
        "400":
          description: Invalid request format
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Sign out user
      tags:
      - User
  /user/status:
    get:
      consumes:
      - application/json
      description: Returns the status of the currently active user role. Absence of
        an active role is treated as internal inconsistency.
      produces:
      - application/json
      responses:
        "200":
          description: Active role status (status campo inteiro enum ver comentários
            DTO)
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.UserStatusResponse'
        "400":
          description: Bad request
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
        "500":
          description: Internal error
          schema:
            $ref: '#/definitions/github_com_projeto-toq_toq_server_internal_adapter_left_http_dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get active user role status
      tags:
      - User
securityDefinitions:
  BearerAuth:
    description: Type "Bearer" followed by a space and JWT token.
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
