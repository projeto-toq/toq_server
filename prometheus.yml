global:
  scrape_interval: 15s  # Intervalo de scrape para todas as configurações
  evaluation_interval: 15s

scrape_configs:
  - job_name: 'prometheus'  # Para monitorar o próprio Prometheus
    static_configs:
      - targets: ['prometheus:9090']  # Nome do serviço Docker

  - job_name: 'otel-collector'  # Para obter métricas do OpenTelemetry Collector
    static_configs:
      - targets: ['otel-collector:8889']  # Prometheus exporter do otel-collector
    metrics_path: '/metrics'
    scrape_interval: 10s

  - job_name: 'toq_server_metrics'  # Para obter métricas diretas da aplicação (se houver)
    static_configs:
      - targets: ['172.17.0.1:4318']  # Aplicação Go expondo métricas prometheus (IP da bridge docker0)
    metrics_path: '/metrics'
    scrape_interval: 10s